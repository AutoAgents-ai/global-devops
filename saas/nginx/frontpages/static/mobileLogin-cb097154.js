import{H as y,r as l,aD as I,c as N,_ as k,ah as d,l as _,m as f,u as g,K as E,S,p as e,V as t,P as c,a9 as V,a3 as L,aE as O,aF as C}from"./vue-25cdfb55.js";import{f as F,l as K,C as R,_ as z}from"./index-52561358.js";import"./element-e5236e8d.js";import"./vxe-9027ceee.js";const M="/static/Frame-b7e5d8e7.png",h=r=>(O("data-v-8609eca0"),r=r(),C(),r),U={class:"mobileLogin"},W={class:"mobileLogin-right"},B=h(()=>e("div",{class:"right-head"},[e("div",{class:"head"},[e("div",{class:"head-logo"}),e("div",{class:"head-fool"},[e("span",null,"欢迎来到灵搭平台")])])],-1)),q={class:"right-form"},D={class:"form-con"},A=h(()=>e("div",{class:"con-head"},[e("div",{class:"head-span"},"账号登录"),e("div",{class:"head-el-tabs__active-bar"})],-1)),H={class:"con-input"},J={class:"con-button"},P=["onClick"],$=y({__name:"mobileLogin",setup(r){let a=l(!0);const v=I();N(()=>{window.innerWidth<=1e3?a.value=!1:window.innerWidth>1e3&&(a.value=!0),window.addEventListener("resize",()=>{window.innerWidth<=1e3?a.value=!1:window.innerWidth>1e3&&(a.value=!0)})});const w=l(null);l(!1);const s=k({userNameOrExternalId:"",password:""}),b={userNameOrExternalId:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:5,message:"用户名不正确",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},m=async()=>{const n=F.hashSync(s.password);let{data:o}=await K({userNameOrExternalId:s.userNameOrExternalId,password:n});o.token&&(localStorage.setItem("autoagents-token",o.token),localStorage.setItem(R.USER_INFO,JSON.stringify(o)),v.push("/"))};return(n,o)=>{const u=d("el-input"),p=d("el-form-item"),x=d("el-form");return _(),f("div",U,[g(a)===!0?(_(),f("div",{key:0,class:"mobileLogin-left",style:E({backgroundImage:`url(' ${g(M)} ')`})},null,4)):S("",!0),e("div",W,[B,e("div",q,[e("div",D,[A,e("div",H,[t(x,{ref_key:"loginFormRef",ref:w,model:s,rules:b,onKeyup:V(m,["enter"])},{default:c(()=>[t(p,{prop:"userNameOrExternalId"},{default:c(()=>[t(u,{modelValue:s.userNameOrExternalId,"onUpdate:modelValue":o[0]||(o[0]=i=>s.userNameOrExternalId=i),modelModifiers:{trim:!0},placeholder:"用户名",type:"text",tabindex:"1","prefix-icon":n.User,size:"large"},null,8,["modelValue","prefix-icon"])]),_:1}),t(p,{prop:"password"},{default:c(()=>[t(u,{modelValue:s.password,"onUpdate:modelValue":o[1]||(o[1]=i=>s.password=i),modelModifiers:{trim:!0},placeholder:"密码",type:"password",tabindex:"2","prefix-icon":n.Lock,size:"large","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1})]),_:1},8,["model","onKeyup"])]),e("div",J,[e("button",{onClick:L(m,["prevent"])},"登录",8,P)])])])])])}}});const X=z($,[["__scopeId","data-v-8609eca0"]]);export{X as default};
