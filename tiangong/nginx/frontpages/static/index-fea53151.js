import{p as Q,u as Y,D as ee,A as te}from"./index.vue_vue_type_style_index_0_scoped_c7b71ed8_lang-4e54e3db.js";import{_ as $,u as oe,s as ae,a as le,b as se,c as ne}from"./index-ccee8c23.js";import{H as A,_ as re,ah as r,l,O as v,P as o,p as k,V as t,T as M,m,u as S,r as L,U as E,F as B,a8 as N,aD as ce,aE as ue,I as D,e as d,aa as ie,R as O,S as I,J as H,X as de,aF as pe,aG as _e,aH as W}from"./vue-3e7b265f.js";import{p as me,E as ve,f as fe}from"./element-f6a868e5.js";import{g as K}from"./index-69ffbca0.js";import"./vxe-49ae37d0.js";const ge=["src"],he={class:"dialog-footer"},be=A({__name:"EditAccount",props:{dialogAccountVisible:{type:Boolean}},emits:["update:dialogAccountVisible"],setup(p,{emit:e}){const u=e,s=re({avatar:"",userName:"",passWord:"",language:"",timeZone:""}),f=()=>{u("update:dialogAccountVisible",!1)},i=()=>{u("update:dialogAccountVisible",!1)};return(b,a)=>{const w=r("el-icon"),g=r("el-upload"),n=r("el-form-item"),x=r("el-input"),V=r("el-option"),h=r("el-select"),_=r("el-form"),c=r("el-button"),C=r("el-dialog");return l(),v(C,{"model-value":b.dialogAccountVisible,"append-to-body":"",width:480,title:"账户设置"},{footer:o(()=>[k("span",he,[t(c,{onClick:f},{default:o(()=>[M("取消")]),_:1}),t(c,{type:"primary",onClick:i},{default:o(()=>[M("确认")]),_:1})])]),default:o(()=>[t(_,{ref:"accountFormRef",model:s,rules:b.rules,"label-position":"top"},{default:o(()=>[t(n,{prop:"avatar",class:"form-item-uploader"},{default:o(()=>[t(g,{class:"avatar-uploader",action:"","show-file-list":!1},{default:o(()=>[s.avatar?(l(),m("img",{key:0,src:s.avatar,class:"avatar"},null,8,ge)):(l(),v(w,{key:1,size:24,color:"#dcdfe6",class:"avatar-uploader-icon"},{default:o(()=>[t(S(me))]),_:1}))]),_:1})]),_:1}),t(n,{label:"用户名",prop:"userName"},{default:o(()=>[t(x,{modelValue:s.userName,"onUpdate:modelValue":a[0]||(a[0]=y=>s.userName=y)},null,8,["modelValue"])]),_:1}),t(n,{label:"密码",prop:"passWord"},{default:o(()=>[t(x,{modelValue:s.passWord,"onUpdate:modelValue":a[1]||(a[1]=y=>s.passWord=y),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),t(n,{label:"语言",prop:"language"},{default:o(()=>[t(h,{modelValue:s.language,"onUpdate:modelValue":a[2]||(a[2]=y=>s.language=y)},{default:o(()=>[t(V,{label:"中文（简体）",value:"中文（简体）"}),t(V,{label:"中文（繁体）",value:"中文（繁体）"})]),_:1},8,["modelValue"])]),_:1}),t(n,{label:"时区",prop:"timeZone"},{default:o(()=>[t(h,{modelValue:s.timeZone,"onUpdate:modelValue":a[3]||(a[3]=y=>s.timeZone=y)},{default:o(()=>[t(V,{label:"中国 北京（GMT+8）",value:"中中国 北京（GMT+8）"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["model-value"])}}}),ye=$(be,[["__scopeId","data-v-0e7427aa"]]),ke=p=>(ce("data-v-a50f5d45"),p=p(),ue(),p),Ve={class:"user-info"},xe=["src"],Ce={class:"text"},Ie={class:"name"},Se={class:"choose-box"},Ae=ke(()=>k("p",null,"当前账号开通多个天工 API Key，请选择应用平台使用的 API Key",-1)),we={class:"dialog-footer"},$e=A({__name:"index",setup(p){const e=oe(),u=L(!1),s=L(),f=L(!1),i=L(),b=()=>{e.apiKeys.length==0?fe({title:"提醒",customStyle:{width:"560px",maxWidth:"560px"},showClose:!1,closeOnClickModal:!1,closeOnPressEscape:!1,message:"当前账号未开通天工 API Key，无法进入大模型应用平台。请前往天工平台申请 API Key。",confirmButtonText:"前往申请"}).then(()=>{e.goTg()}):e.apiKeys.length>1&&(u.value=!0)},a=()=>{ae(s.value).then(()=>{ve({message:"操作成功",type:"success"})})};return(()=>{le().then(async g=>{g.data.code!==1&&b()})})(),(g,n)=>{const x=r("el-option"),V=r("el-select"),h=r("el-button"),_=r("el-dialog");return l(),m("div",Ve,[k("div",{class:"menu-avatar",ref_key:"userAvatarRef",ref:i},[k("img",{src:S(e).avatar,class:"avatar"},null,8,xe),k("div",Ce,[k("h3",Ie,E(S(e).username),1)])],512),t(_,{modelValue:u.value,"onUpdate:modelValue":n[2]||(n[2]=c=>u.value=c),width:560,title:"API Key设置"},{footer:o(()=>[k("span",we,[t(h,{onClick:n[1]||(n[1]=c=>u.value=!1)},{default:o(()=>[M("取消")]),_:1}),t(h,{type:"primary",onClick:a},{default:o(()=>[M("确认")]),_:1})])]),default:o(()=>[k("div",Se,[Ae,t(V,{modelValue:s.value,"onUpdate:modelValue":n[0]||(n[0]=c=>s.value=c),placeholder:"选择天工 API Key"},{default:o(()=>[(l(!0),m(B,null,N(S(e).apiKeys,(c,C)=>(l(),v(x,{label:c,value:c,key:C},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"]),t(ye,{dialogAccountVisible:f.value,"onUpdate:dialogAccountVisible":n[3]||(n[3]=c=>f.value=c)},null,8,["dialogAccountVisible"])])}}}),Me=$($e,[["__scopeId","data-v-a50f5d45"]]),U=p=>/^(https?:|mailto:|tel:)/.test(p),Te=["href"],Le=A({__name:"SidebarItemLink",props:{to:{}},setup(p){const e=p;return(u,s)=>{const f=r("router-link");return S(U)(e.to)?(l(),m("a",{key:0,href:e.to,target:"_blank",rel:"noopener"},[D(u.$slots,"default")],8,Te)):(l(),v(f,{key:1,to:e.to},{default:o(()=>[D(u.$slots,"default")]),_:3},8,["to"]))}}}),Be={key:2},Pe=A({__name:"SidebarItem",props:{item:{},isCollapse:{type:Boolean,default:!1},isTop:{type:Boolean,default:!1},isFirstLevel:{type:Boolean,default:!0},basePath:{default:""}},setup(p){const e=p,u=d(()=>{var a;return(a=e.item.meta)==null?void 0:a.alwaysShow}),s=d(()=>{var a;return((a=e.item.children)==null?void 0:a.filter(w=>{var g;return!((g=w.meta)!=null&&g.hidden)}))??[]}),f=d(()=>s.value.length),i=d(()=>{const a=f.value;switch(!0){case a>1:return null;case a===1:return s.value[0];default:return{...e.item,path:""}}}),b=a=>{switch(!0){case U(a):return a;case U(e.basePath):return e.basePath;default:return Q.resolve(e.basePath,a)}};return(a,w)=>{var h;const g=r("SvgIcon"),n=r("el-menu-item"),x=r("sidebar-item",!0),V=r("el-sub-menu");return(h=e.item.meta)!=null&&h.hidden?I("",!0):(l(),m("div",{key:0,class:H({"simple-mode":e.isCollapse&&!a.isTop,"first-level":e.isFirstLevel})},[!u.value&&i.value&&!i.value.children?(l(),m(B,{key:0},[i.value.meta?(l(),v(Le,{key:0,to:b(i.value.path)},{default:o(()=>[t(n,{index:b(i.value.path)},ie({default:o(()=>[i.value.meta.svgIcon?(l(),v(g,{key:0,name:i.value.meta.svgIcon},null,8,["name"])):i.value.meta.elIcon?(l(),v(O(i.value.meta.elIcon),{key:1,class:"el-icon"})):I("",!0)]),_:2},[i.value.meta.title?{name:"title",fn:o(()=>[M(E(i.value.meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):I("",!0)],64)):(l(),v(V,{key:1,index:b(e.item.path),teleported:""},{title:o(()=>{var _,c,C;return[(_=e.item.meta)!=null&&_.svgIcon?(l(),v(g,{key:0,name:e.item.meta.svgIcon},null,8,["name"])):(c=e.item.meta)!=null&&c.elIcon?(l(),v(O(e.item.meta.elIcon),{key:1,class:"el-icon"})):I("",!0),(C=e.item.meta)!=null&&C.title?(l(),m("span",Be,E(e.item.meta.title),1)):I("",!0)]}),default:o(()=>[e.item.children?(l(!0),m(B,{key:0},N(e.item.children,_=>(l(),v(x,{key:_.path,item:_,"is-collapse":e.isCollapse,"is-first-level":!1,"base-path":b(_.path)},null,8,["item","is-collapse","base-path"]))),128)):I("",!0)]),_:1},8,["index"]))],2))}}}),Ke=$(Pe,[["__scopeId","data-v-688ba5d0"]]),Ee={class:"layout-logo-container"},Ue={class:"layout-logo-box"},Ne={key:0,class:"layout-logo-text"},Fe=A({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(p){return(e,u)=>{const s=r("svg-icon"),f=r("router-link");return l(),m("div",Ee,[t(de,{name:"layout-logo-fade"},{default:o(()=>[t(f,{to:"/"},{default:o(()=>[k("div",Ue,[t(s,{name:"LTLogo",color:"#fff",class:"LTLogo"}),e.collapse?I("",!0):(l(),m("h2",Ne,"SkyAgents"))])]),_:1})]),_:1})])}}}),Re=$(Fe,[["__scopeId","data-v-93af50d9"]]),De=A({__name:"index",setup(p){pe(T=>({"6722f728":J.value,"2f202f4e":G.value,"587add76":q.value,"59ec4889":F.value}));const e=K("--v3-sidebar-menu-bg-color"),u=K("--v3-sidebar-menu-text-color"),s=K("--v3-sidebar-menu-active-text-color"),f=_e(),i=Y(),b=se(),a=ne(),{sidebar:w,device:g}=W(i),{layoutMode:n,showLogo:x}=W(a),V=d(()=>{const{meta:{activeMenu:T},path:R}=f;return T||R}),h=d(()=>!w.value.opened),_=d(()=>n.value==="left"),c=d(()=>n.value==="top"),C=d(()=>g.value===ee.Mobile),y=d(()=>_.value&&x.value),Z=d(()=>_.value?e:void 0),z=d(()=>_.value?u:void 0),F=d(()=>_.value?s:void 0),G=d(()=>n.value!=="top"?"var(--v3-sidebar-menu-item-height)":"var(--v3-navigationbar-height)"),q=d(()=>n.value!=="top"?"var(--v3-sidebar-menu-hover-bg-color)":"transparent"),J=d(()=>n.value==="top"?"none":"block");return(T,R)=>{const X=r("el-menu"),j=r("el-scrollbar");return l(),m("div",{class:H({"has-logo":y.value})},[y.value?(l(),v(Re,{key:0,collapse:h.value},null,8,["collapse"])):I("",!0),t(j,{"wrap-class":"scrollbar-wrapper"},{default:o(()=>[t(X,{"default-active":V.value,collapse:h.value&&!c.value,"background-color":Z.value,"text-color":z.value,"active-text-color":F.value,"unique-opened":!0,"collapse-transition":!1,mode:c.value&&!C.value?"horizontal":"vertical"},{default:o(()=>[(l(!0),m(B,null,N(S(b).routes,P=>(l(),v(Ke,{key:P.path,item:P,"base-path":P.path,"is-collapse":h.value,"is-top":c.value},null,8,["item","base-path","is-collapse","is-top"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1}),t(Me)],2)}}}),Oe=$(De,[["__scopeId","data-v-c7b71ed8"]]),We={class:"app-wrapper"},He={class:"main-container"},Ze=A({__name:"Left",setup(p){return(e,u)=>(l(),m("div",We,[t(S(Oe),{class:"sidebar-container"}),k("div",He,[t(S(te),{class:"app-main"})])]))}});const ze=$(Ze,[["__scopeId","data-v-32e74378"]]),Ye=A({__name:"index",setup(p){return(e,u)=>(l(),m("div",null,[t(ze)]))}});export{Ye as default};
