import{p as ee,u as te,D as oe,A as ae}from"./index.vue_vue_type_style_index_0_scoped_c7b71ed8_lang-a51cce67.js";import{_ as $,u as se,s as le,a as ne,b as ce,c as re}from"./index-32867afd.js";import{H as A,_ as ie,ah as c,l as s,O as v,P as o,p as g,V as t,T as M,m,u as C,aD as ue,r as L,U as E,F as B,a8 as N,aE as H,aF as Z,I as D,e as p,aa as de,R as O,S,J as z,X as pe,aG as _e,aH as me,aI as W}from"./vue-25cdfb55.js";import{p as ve,E as fe,f as be}from"./element-e5236e8d.js";import{g as K}from"./index-15a1f59c.js";import"./vxe-9027ceee.js";const he=["src"],ge={class:"dialog-footer"},ye=A({__name:"EditAccount",props:{dialogAccountVisible:{type:Boolean}},emits:["update:dialogAccountVisible"],setup(r,{emit:e}){const u=e,l=ie({avatar:"",userName:"",passWord:"",language:"",timeZone:""}),f=()=>{u("update:dialogAccountVisible",!1)},d=()=>{u("update:dialogAccountVisible",!1)};return(y,a)=>{const w=c("el-icon"),b=c("el-upload"),n=c("el-form-item"),V=c("el-input"),x=c("el-option"),h=c("el-select"),_=c("el-form"),i=c("el-button"),I=c("el-dialog");return s(),v(I,{"model-value":y.dialogAccountVisible,"append-to-body":"",width:480,title:"账户设置"},{footer:o(()=>[g("span",ge,[t(i,{onClick:f},{default:o(()=>[M("取消")]),_:1}),t(i,{type:"primary",onClick:d},{default:o(()=>[M("确认")]),_:1})])]),default:o(()=>[t(_,{ref:"accountFormRef",model:l,rules:y.rules,"label-position":"top"},{default:o(()=>[t(n,{prop:"avatar",class:"form-item-uploader"},{default:o(()=>[t(b,{class:"avatar-uploader",action:"","show-file-list":!1},{default:o(()=>[l.avatar?(s(),m("img",{key:0,src:l.avatar,class:"avatar"},null,8,he)):(s(),v(w,{key:1,size:24,color:"#dcdfe6",class:"avatar-uploader-icon"},{default:o(()=>[t(C(ve))]),_:1}))]),_:1})]),_:1}),t(n,{label:"用户名",prop:"userName"},{default:o(()=>[t(V,{modelValue:l.userName,"onUpdate:modelValue":a[0]||(a[0]=k=>l.userName=k)},null,8,["modelValue"])]),_:1}),t(n,{label:"密码",prop:"passWord"},{default:o(()=>[t(V,{modelValue:l.passWord,"onUpdate:modelValue":a[1]||(a[1]=k=>l.passWord=k),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),t(n,{label:"语言",prop:"language"},{default:o(()=>[t(h,{modelValue:l.language,"onUpdate:modelValue":a[2]||(a[2]=k=>l.language=k)},{default:o(()=>[t(x,{label:"中文（简体）",value:"中文（简体）"}),t(x,{label:"中文（繁体）",value:"中文（繁体）"})]),_:1},8,["modelValue"])]),_:1}),t(n,{label:"时区",prop:"timeZone"},{default:o(()=>[t(h,{modelValue:l.timeZone,"onUpdate:modelValue":a[3]||(a[3]=k=>l.timeZone=k)},{default:o(()=>[t(x,{label:"中国 北京（GMT+8）",value:"中中国 北京（GMT+8）"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["model-value"])}}}),ke=$(ye,[["__scopeId","data-v-0e7427aa"]]),xe=r=>(H("data-v-5563c87b"),r=r(),Z(),r),Ve={class:"user-info"},Ie=["src"],Se={class:"text"},Ce={class:"name"},Ae={class:"choose-box"},we=xe(()=>g("p",null,"当前账号开通多个天工 API Key，请选择应用平台使用的 API Key",-1)),$e={class:"dialog-footer"},Me=A({__name:"index",setup(r){ue();const e=se(),u=L(!1),l=L(),f=L(!1),d=L(),y=()=>{e.apiKeys.length==0?be({title:"提醒",customStyle:{width:"560px",maxWidth:"560px"},showClose:!1,closeOnClickModal:!1,closeOnPressEscape:!1,message:"当前账号未开通天工 API Key，无法进入大模型应用平台。请前往天工平台申请 API Key。",confirmButtonText:"前往申请"}).then(()=>{e.goTg()}):e.apiKeys.length>1&&(u.value=!0)},a=()=>{le(l.value).then(()=>{fe({message:"操作成功",type:"success"})})};return(()=>{ne().then(async b=>{b.data.code!==1&&y()})})(),(b,n)=>{const V=c("el-option"),x=c("el-select"),h=c("el-button"),_=c("el-dialog");return s(),m("div",Ve,[g("div",{class:"menu-avatar",ref_key:"userAvatarRef",ref:d},[g("img",{src:C(e).avatar,class:"avatar"},null,8,Ie),g("div",Se,[g("h3",Ce,E(C(e).username),1)])],512),t(_,{modelValue:u.value,"onUpdate:modelValue":n[2]||(n[2]=i=>u.value=i),width:560,title:"API Key设置"},{footer:o(()=>[g("span",$e,[t(h,{onClick:n[1]||(n[1]=i=>u.value=!1)},{default:o(()=>[M("取消")]),_:1}),t(h,{type:"primary",onClick:a},{default:o(()=>[M("确认")]),_:1})])]),default:o(()=>[g("div",Ae,[we,t(x,{modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=i=>l.value=i),placeholder:"选择天工 API Key"},{default:o(()=>[(s(!0),m(B,null,N(C(e).apiKeys,(i,I)=>(s(),v(V,{label:i,value:i,key:I},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"]),t(ke,{dialogAccountVisible:f.value,"onUpdate:dialogAccountVisible":n[3]||(n[3]=i=>f.value=i)},null,8,["dialogAccountVisible"])])}}}),Te=$(Me,[["__scopeId","data-v-5563c87b"]]),U=r=>/^(https?:|mailto:|tel:)/.test(r),Le=["href"],Be=A({__name:"SidebarItemLink",props:{to:{}},setup(r){const e=r;return(u,l)=>{const f=c("router-link");return C(U)(e.to)?(s(),m("a",{key:0,href:e.to,target:"_blank",rel:"noopener"},[D(u.$slots,"default")],8,Le)):(s(),v(f,{key:1,to:e.to},{default:o(()=>[D(u.$slots,"default")]),_:3},8,["to"]))}}}),Pe={key:2},Ke=A({__name:"SidebarItem",props:{item:{},isCollapse:{type:Boolean,default:!1},isTop:{type:Boolean,default:!1},isFirstLevel:{type:Boolean,default:!0},basePath:{default:""}},setup(r){const e=r,u=p(()=>{var a;return(a=e.item.meta)==null?void 0:a.alwaysShow}),l=p(()=>{var a;return((a=e.item.children)==null?void 0:a.filter(w=>{var b;return!((b=w.meta)!=null&&b.hidden)}))??[]}),f=p(()=>l.value.length),d=p(()=>{const a=f.value;switch(!0){case a>1:return null;case a===1:return l.value[0];default:return{...e.item,path:""}}}),y=a=>{switch(!0){case U(a):return a;case U(e.basePath):return e.basePath;default:return ee.resolve(e.basePath,a)}};return(a,w)=>{var h;const b=c("SvgIcon"),n=c("el-menu-item"),V=c("sidebar-item",!0),x=c("el-sub-menu");return(h=e.item.meta)!=null&&h.hidden?S("",!0):(s(),m("div",{key:0,class:z({"simple-mode":e.isCollapse&&!a.isTop,"first-level":e.isFirstLevel})},[!u.value&&d.value&&!d.value.children?(s(),m(B,{key:0},[d.value.meta?(s(),v(Be,{key:0,to:y(d.value.path)},{default:o(()=>[t(n,{index:y(d.value.path)},de({default:o(()=>[d.value.meta.svgIcon?(s(),v(b,{key:0,name:d.value.meta.svgIcon},null,8,["name"])):d.value.meta.elIcon?(s(),v(O(d.value.meta.elIcon),{key:1,class:"el-icon"})):S("",!0)]),_:2},[d.value.meta.title?{name:"title",fn:o(()=>[M(E(d.value.meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):S("",!0)],64)):(s(),v(x,{key:1,index:y(e.item.path),teleported:""},{title:o(()=>{var _,i,I;return[(_=e.item.meta)!=null&&_.svgIcon?(s(),v(b,{key:0,name:e.item.meta.svgIcon},null,8,["name"])):(i=e.item.meta)!=null&&i.elIcon?(s(),v(O(e.item.meta.elIcon),{key:1,class:"el-icon"})):S("",!0),(I=e.item.meta)!=null&&I.title?(s(),m("span",Pe,E(e.item.meta.title),1)):S("",!0)]}),default:o(()=>[e.item.children?(s(!0),m(B,{key:0},N(e.item.children,_=>(s(),v(V,{key:_.path,item:_,"is-collapse":e.isCollapse,"is-first-level":!1,"base-path":y(_.path)},null,8,["item","is-collapse","base-path"]))),128)):S("",!0)]),_:1},8,["index"]))],2))}}}),Ee=$(Ke,[["__scopeId","data-v-688ba5d0"]]),Ue=r=>(H("data-v-b69b52ea"),r=r(),Z(),r),Ne={class:"layout-logo-container"},Re={class:"layout-logo-box"},Fe={class:"beta-box"},De=Ue(()=>g("span",{class:"beta"},"beta",-1)),Oe={key:0,class:"layout-logo-text"},We=A({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(r){return(e,u)=>{const l=c("svg-icon"),f=c("router-link");return s(),m("div",Ne,[t(pe,{name:"layout-logo-fade"},{default:o(()=>[t(f,{to:"/"},{default:o(()=>[g("div",Re,[t(l,{name:"LTLogo",color:"#fff",class:"LTLogo"}),g("div",Fe,[De,e.collapse?S("",!0):(s(),m("h2",Oe,"SkyAgents"))])])]),_:1})]),_:1})])}}}),He=$(We,[["__scopeId","data-v-b69b52ea"]]),Ze=A({__name:"index",setup(r){_e(T=>({"6722f728":j.value,"2f202f4e":J.value,"587add76":X.value,"59ec4889":R.value}));const e=K("--v3-sidebar-menu-bg-color"),u=K("--v3-sidebar-menu-text-color"),l=K("--v3-sidebar-menu-active-text-color"),f=me(),d=te(),y=ce(),a=re(),{sidebar:w,device:b}=W(d),{layoutMode:n,showLogo:V}=W(a),x=p(()=>{const{meta:{activeMenu:T},path:F}=f;return T||F}),h=p(()=>!w.value.opened),_=p(()=>n.value==="left"),i=p(()=>n.value==="top"),I=p(()=>b.value===oe.Mobile),k=p(()=>_.value&&V.value),G=p(()=>_.value?e:void 0),q=p(()=>_.value?u:void 0),R=p(()=>_.value?l:void 0),J=p(()=>n.value!=="top"?"var(--v3-sidebar-menu-item-height)":"var(--v3-navigationbar-height)"),X=p(()=>n.value!=="top"?"var(--v3-sidebar-menu-hover-bg-color)":"transparent"),j=p(()=>n.value==="top"?"none":"block");return(T,F)=>{const Q=c("el-menu"),Y=c("el-scrollbar");return s(),m("div",{class:z({"has-logo":k.value})},[k.value?(s(),v(He,{key:0,collapse:h.value},null,8,["collapse"])):S("",!0),t(Y,{"wrap-class":"scrollbar-wrapper"},{default:o(()=>[t(Q,{"default-active":x.value,collapse:h.value&&!i.value,"background-color":G.value,"text-color":q.value,"active-text-color":R.value,"unique-opened":!0,"collapse-transition":!1,mode:i.value&&!I.value?"horizontal":"vertical"},{default:o(()=>[(s(!0),m(B,null,N(C(y).routes,P=>(s(),v(Ee,{key:P.path,item:P,"base-path":P.path,"is-collapse":h.value,"is-top":i.value},null,8,["item","base-path","is-collapse","is-top"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1}),t(Te)],2)}}}),ze=$(Ze,[["__scopeId","data-v-c7b71ed8"]]),Ge={class:"app-wrapper"},qe={class:"main-container"},Je=A({__name:"Left",setup(r){return(e,u)=>(s(),m("div",Ge,[t(C(ze),{class:"sidebar-container"}),g("div",qe,[t(C(ae),{class:"app-main"})])]))}});const Xe=$(Je,[["__scopeId","data-v-9480337c"]]),at=A({__name:"index",setup(r){return(e,u)=>(s(),m("div",null,[t(Xe)]))}});export{at as default};
