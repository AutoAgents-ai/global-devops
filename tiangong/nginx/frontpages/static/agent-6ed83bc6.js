import"./index-5280cf60.js";import{aC as r,r as l}from"./vue-82a6b7fc.js";const u=(e,n)=>e.find(o=>o.moduleType===n),v=r("flow",()=>{const e=l([]),n=l([]),o=l();return{appSystemModuleList:e,appToolModuleList:n,initTemplate:o,setInitTemplate:()=>{o.value={initInputNodes:{id:"simpleInputId",type:"custom",data:u(e.value,"questionInput"),position:{x:-172,y:415}},initAiNodes:{id:"simpleAichatId",type:"custom",data:u(e.value,"aiChat"),position:{x:685,y:364}},initKnowledgeNodes:{id:"simpleKnowledgeId",type:"custom",data:u(e.value,"knowledgesSearch"),position:{x:211,y:119}},initConfirmreplyNodes:{id:"simpleConfirmreplyId",type:"custom",data:u(e.value,"confirmreply"),position:{x:684,y:39}},initInputAiEdges:[{id:"vueflow__edge-input-ai",sourceHandle:"userChatInput",targetHandle:"text",type:"custom",source:"simpleInputId",target:"simpleAichatId",animated:!1}],initInputAiKdEdges:[{id:"vueflow__edge-input-kd",sourceHandle:"userChatInput",targetHandle:"text",type:"custom",source:"simpleInputId",target:"simpleKnowledgeId",animated:!1},{id:"vueflow__edge-kd-reply",sourceHandle:"isEmpty",targetHandle:"switch",type:"custom",source:"simpleKnowledgeId",target:"simpleConfirmreplyId",animated:!1},{id:"vueflow__edge-kd-ai2",sourceHandle:"unEmpty",targetHandle:"switch",type:"custom",source:"simpleKnowledgeId",target:"simpleAichatId",animated:!1},{id:"vueflow__edge-kd-ai3",sourceHandle:"quoteQA",targetHandle:"knSearch",type:"custom",source:"simpleKnowledgeId",target:"simpleAichatId",animated:!1}]}},setAppSystemModuleList:s=>{e.value=s},setAppToolModuleList:s=>{n.value=s,n.value}}}),g=["https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/1.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/10.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/11.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/12.jpg","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/13.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/14.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/15.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/16.jpg","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/17.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/18.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/19.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/2.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/20.jpg","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/21.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/22.jpg","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/23.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/24.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/25.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/26.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/27.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/28.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/29.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/3.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/30.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/31.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/32.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/33.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/34.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/35.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/36.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/37.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/38.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/4.jpg","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/5.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/6.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/7.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/8.png","https://autoagents.oss-cn-beijing.aliyuncs.com/static/avatar/9.png"],k=r("agent",()=>{const e=l({avatar:"",name:"新的Agent",intro:"",uuid:"",guides:[],searchInWeb:!1,createImage:!1,appModel:{nodes:[],edges:[]}});return{agentInfo:e,setAgentInfo:t=>{e.value.name=t.name||"新的Agent",e.value.avatar=t.avatar||g[y(0,g.length-1)],e.value.intro=t.intro||"",e.value.uuid=t.uuid||"",e.value.guides=t.guides||[],e.value.searchInWeb=t.searchInWeb||!1,e.value.createImage=t.createImage||!1,e.value.appModel=t.appModel?JSON.parse(t.appModel):{nodes:[],edges:[]}},setAgentModel:t=>{e.value.appModel=t},changeAgentInfo:t=>{e.value.name=t.name||"新的Agent",e.value.avatar=t.avatar,e.value.intro=t.intro,e.value.uuid=t.uuid,e.value.guides=t.guides,e.value.searchInWeb=t.searchInWeb,e.value.createImage=t.createImage;const{initTemplate:c}=v();if(c){const s=JSON.parse(JSON.stringify(c));i(e.value.appModel.nodes,"simpleInputId")||e.value.appModel.nodes.push(s.initInputNodes);const d=i(e.value.appModel.nodes,"simpleAichatId");if(d?d.data.inputs.map(a=>{a.key==="model"&&(a.value=t.aiModelName),a.key==="quotePrompt"&&(a.value=t.aiPrompt)}):(s.initAiNodes.data.inputs.map(a=>{a.key==="model"&&(a.value=t.aiModelName),a.key==="quotePrompt"&&(a.value=t.aiPrompt)}),e.value.appModel.nodes.push(s.initAiNodes)),i(e.value.appModel.edges,"vueflow__edge-input-ai")||e.value.appModel.edges.push(s.initInputAiEdges[0]),t.datasets.length>0){const a=i(e.value.appModel.nodes,"simpleKnowledgeId");i(e.value.appModel.nodes,"simpleConfirmreplyId")||e.value.appModel.nodes.push(s.initConfirmreplyNodes),a?a.data.inputs.map(p=>{p.key==="datasets"&&(p.value=t.datasets)}):(s.initKnowledgeNodes.data.inputs.map(p=>{p.key==="datasets"&&(p.value=t.datasets)}),e.value.appModel.nodes.push(s.initKnowledgeNodes)),i(e.value.appModel.edges,"vueflow__edge-input-kd")||e.value.appModel.edges.push(s.initInputAiKdEdges[0]),i(e.value.appModel.edges,"vueflow__edge-kd-reply")||e.value.appModel.edges.push(s.initInputAiKdEdges[1]),i(e.value.appModel.edges,"vueflow__edge-kd-ai2")||e.value.appModel.edges.push(s.initInputAiKdEdges[2]),i(e.value.appModel.edges,"vueflow__edge-kd-ai3")||e.value.appModel.edges.push(s.initInputAiKdEdges[3])}else e.value.appModel.nodes=e.value.appModel.nodes.filter(a=>a.id!=="simpleKnowledgeId"),e.value.appModel.nodes=e.value.appModel.nodes.filter(a=>a.id!=="simpleConfirmreplyId")}}}});function i(e,n){return e.find(o=>o.id===n)}function y(e,n){return Math.floor(Math.random()*(n-e))+e}export{v as a,g as l,k as u};
