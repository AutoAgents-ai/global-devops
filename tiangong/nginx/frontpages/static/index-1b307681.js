import{p as ee,u as te,D as oe,A as ae}from"./index.vue_vue_type_style_index_0_scoped_c7b71ed8_lang-26600c28.js";import{_ as L,u as se,s as le,a as ne,b as ce,c as ie}from"./index-3f36cc44.js";import{H as M,_ as re,ah as n,l as s,O as b,P as o,p as d,V as e,T as w,m as v,u as $,aD as ue,r as B,U as N,F as P,a8 as F,aE as z,aF as G,I as W,e as p,aa as de,R as H,S as A,J as q,X as pe,aG as _e,aH as me,aI as Z}from"./vue-25cdfb55.js";import{p as ve,f as fe,E as ge}from"./element-e5236e8d.js";import{g as U}from"./index-15a1f59c.js";import"./vxe-9027ceee.js";const be=["src"],he={class:"dialog-footer"},ye=M({__name:"EditAccount",props:{dialogAccountVisible:{type:Boolean}},emits:["update:dialogAccountVisible"],setup(i,{emit:t}){const c=t,l=re({avatar:"",userName:"",passWord:"",language:"",timeZone:""}),f=()=>{c("update:dialogAccountVisible",!1)},r=()=>{c("update:dialogAccountVisible",!1)};return(k,a)=>{const C=n("el-icon"),x=n("el-upload"),m=n("el-form-item"),I=n("el-input"),u=n("el-option"),g=n("el-select"),_=n("el-form"),V=n("el-button"),S=n("el-dialog");return s(),b(S,{"model-value":k.dialogAccountVisible,"append-to-body":"",width:480,title:"账户设置"},{footer:o(()=>[d("span",he,[e(V,{onClick:f},{default:o(()=>[w("取消")]),_:1}),e(V,{type:"primary",onClick:r},{default:o(()=>[w("确认")]),_:1})])]),default:o(()=>[e(_,{ref:"accountFormRef",model:l,rules:k.rules,"label-position":"top"},{default:o(()=>[e(m,{prop:"avatar",class:"form-item-uploader"},{default:o(()=>[e(x,{class:"avatar-uploader",action:"","show-file-list":!1},{default:o(()=>[l.avatar?(s(),v("img",{key:0,src:l.avatar,class:"avatar"},null,8,be)):(s(),b(C,{key:1,size:24,color:"#dcdfe6",class:"avatar-uploader-icon"},{default:o(()=>[e($(ve))]),_:1}))]),_:1})]),_:1}),e(m,{label:"用户名",prop:"userName"},{default:o(()=>[e(I,{modelValue:l.userName,"onUpdate:modelValue":a[0]||(a[0]=h=>l.userName=h)},null,8,["modelValue"])]),_:1}),e(m,{label:"密码",prop:"passWord"},{default:o(()=>[e(I,{modelValue:l.passWord,"onUpdate:modelValue":a[1]||(a[1]=h=>l.passWord=h),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),e(m,{label:"语言",prop:"language"},{default:o(()=>[e(g,{modelValue:l.language,"onUpdate:modelValue":a[2]||(a[2]=h=>l.language=h)},{default:o(()=>[e(u,{label:"中文（简体）",value:"中文（简体）"}),e(u,{label:"中文（繁体）",value:"中文（繁体）"})]),_:1},8,["modelValue"])]),_:1}),e(m,{label:"时区",prop:"timeZone"},{default:o(()=>[e(g,{modelValue:l.timeZone,"onUpdate:modelValue":a[3]||(a[3]=h=>l.timeZone=h)},{default:o(()=>[e(u,{label:"中国 北京（GMT+8）",value:"中中国 北京（GMT+8）"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["model-value"])}}}),ke=L(ye,[["__scopeId","data-v-0e7427aa"]]),xe=i=>(z("data-v-e515b7d0"),i=i(),G(),i),Ve={class:"user-info"},Ce=["src"],Ie={class:"text"},Se={class:"name"},Ae={class:"popover"},we={class:"user-setting"},$e={class:"choose-box"},Me=xe(()=>d("p",null,"当前账号开通多个天工 API Key，请选择应用平台使用的 API Key",-1)),Le={class:"dialog-footer"},Te=M({__name:"index",setup(i){let t=ue();const c=se(),l=B(!1),f=B(),r=B(!1),k=B(),a=()=>{c.logout(),t.push("/login")},C=()=>{c.apiKeys.length==0?fe({title:"提醒",customStyle:{width:"560px",maxWidth:"560px"},showClose:!1,closeOnClickModal:!1,closeOnPressEscape:!1,message:"当前账号未开通天工 API Key，无法进入大模型应用平台。请前往天工平台申请 API Key。",confirmButtonText:"前往申请"}).then(()=>{c.goTg()}):c.apiKeys.length>1&&(l.value=!0)},x=()=>{le(f.value).then(()=>{ge({message:"操作成功",type:"success"})})};return(()=>{ne().then(async I=>{I.data.code!==1&&C()})})(),(I,u)=>{const g=n("svg-icon"),_=n("el-option"),V=n("el-select"),S=n("el-button"),h=n("el-dialog");return s(),v("div",Ve,[d("div",{class:"menu-avatar",ref_key:"userAvatarRef",ref:k},[d("img",{src:$(c).avatar,class:"avatar"},null,8,Ce),d("div",Ie,[d("h3",Se,N($(c).username),1)])],512),d("div",Ae,[d("div",we,[d("div",{class:"item",onClick:C},[e(g,{name:"key",class:"icon"}),w(" API Key 设置")]),d("div",{class:"item",onClick:u[0]||(u[0]=y=>r.value=!0)},[e(g,{name:"Account",class:"icon"}),w(" 账户设置")]),d("div",{class:"item logout",onClick:a},[e(g,{name:"Logout",class:"icon"}),w(" 退出登录")])])]),e(h,{modelValue:l.value,"onUpdate:modelValue":u[3]||(u[3]=y=>l.value=y),width:560,title:"API Key设置"},{footer:o(()=>[d("span",Le,[e(S,{onClick:u[2]||(u[2]=y=>l.value=!1)},{default:o(()=>[w("取消")]),_:1}),e(S,{type:"primary",onClick:x},{default:o(()=>[w("确认")]),_:1})])]),default:o(()=>[d("div",$e,[Me,e(V,{modelValue:f.value,"onUpdate:modelValue":u[1]||(u[1]=y=>f.value=y),placeholder:"选择天工 API Key"},{default:o(()=>[(s(!0),v(P,null,F($(c).apiKeys,(y,K)=>(s(),b(_,{label:y,value:y,key:K},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"]),e(ke,{dialogAccountVisible:r.value,"onUpdate:dialogAccountVisible":u[4]||(u[4]=y=>r.value=y)},null,8,["dialogAccountVisible"])])}}}),Be=L(Te,[["__scopeId","data-v-e515b7d0"]]),R=i=>/^(https?:|mailto:|tel:)/.test(i),Pe=["href"],Ke=M({__name:"SidebarItemLink",props:{to:{}},setup(i){const t=i;return(c,l)=>{const f=n("router-link");return $(R)(t.to)?(s(),v("a",{key:0,href:t.to,target:"_blank",rel:"noopener"},[W(c.$slots,"default")],8,Pe)):(s(),b(f,{key:1,to:t.to},{default:o(()=>[W(c.$slots,"default")]),_:3},8,["to"]))}}}),Ee={key:2},Ue=M({__name:"SidebarItem",props:{item:{},isCollapse:{type:Boolean,default:!1},isTop:{type:Boolean,default:!1},isFirstLevel:{type:Boolean,default:!0},basePath:{default:""}},setup(i){const t=i,c=p(()=>{var a;return(a=t.item.meta)==null?void 0:a.alwaysShow}),l=p(()=>{var a;return((a=t.item.children)==null?void 0:a.filter(C=>{var x;return!((x=C.meta)!=null&&x.hidden)}))??[]}),f=p(()=>l.value.length),r=p(()=>{const a=f.value;switch(!0){case a>1:return null;case a===1:return l.value[0];default:return{...t.item,path:""}}}),k=a=>{switch(!0){case R(a):return a;case R(t.basePath):return t.basePath;default:return ee.resolve(t.basePath,a)}};return(a,C)=>{var g;const x=n("SvgIcon"),m=n("el-menu-item"),I=n("sidebar-item",!0),u=n("el-sub-menu");return(g=t.item.meta)!=null&&g.hidden?A("",!0):(s(),v("div",{key:0,class:q({"simple-mode":t.isCollapse&&!a.isTop,"first-level":t.isFirstLevel})},[!c.value&&r.value&&!r.value.children?(s(),v(P,{key:0},[r.value.meta?(s(),b(Ke,{key:0,to:k(r.value.path)},{default:o(()=>[e(m,{index:k(r.value.path)},de({default:o(()=>[r.value.meta.svgIcon?(s(),b(x,{key:0,name:r.value.meta.svgIcon},null,8,["name"])):r.value.meta.elIcon?(s(),b(H(r.value.meta.elIcon),{key:1,class:"el-icon"})):A("",!0)]),_:2},[r.value.meta.title?{name:"title",fn:o(()=>[w(N(r.value.meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):A("",!0)],64)):(s(),b(u,{key:1,index:k(t.item.path),teleported:""},{title:o(()=>{var _,V,S;return[(_=t.item.meta)!=null&&_.svgIcon?(s(),b(x,{key:0,name:t.item.meta.svgIcon},null,8,["name"])):(V=t.item.meta)!=null&&V.elIcon?(s(),b(H(t.item.meta.elIcon),{key:1,class:"el-icon"})):A("",!0),(S=t.item.meta)!=null&&S.title?(s(),v("span",Ee,N(t.item.meta.title),1)):A("",!0)]}),default:o(()=>[t.item.children?(s(!0),v(P,{key:0},F(t.item.children,_=>(s(),b(I,{key:_.path,item:_,"is-collapse":t.isCollapse,"is-first-level":!1,"base-path":k(_.path)},null,8,["item","is-collapse","base-path"]))),128)):A("",!0)]),_:1},8,["index"]))],2))}}}),Ne=L(Ue,[["__scopeId","data-v-688ba5d0"]]),Re=i=>(z("data-v-f04590a5"),i=i(),G(),i),Fe={class:"layout-logo-container"},De={class:"layout-logo-box"},Oe={class:"beta-box"},We=Re(()=>d("span",{class:"beta"},"beta",-1)),He={key:0,class:"layout-logo-text"},Ze=M({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(i){return(t,c)=>{const l=n("svg-icon"),f=n("router-link");return s(),v("div",Fe,[e(pe,{name:"layout-logo-fade"},{default:o(()=>[e(f,{to:"/"},{default:o(()=>[d("div",De,[d("div",Oe,[We,e(l,{name:"LTLogo",color:"#fff",class:"LTLogo"})]),t.collapse?A("",!0):(s(),v("h2",He,"SkyAgents"))])]),_:1})]),_:1})])}}}),ze=L(Ze,[["__scopeId","data-v-f04590a5"]]),Ge=M({__name:"index",setup(i){_e(T=>({"6722f728":j.value,"2f202f4e":J.value,"587add76":X.value,"59ec4889":D.value}));const t=U("--v3-sidebar-menu-bg-color"),c=U("--v3-sidebar-menu-text-color"),l=U("--v3-sidebar-menu-active-text-color"),f=me(),r=te(),k=ce(),a=ie(),{sidebar:C,device:x}=Z(r),{layoutMode:m,showLogo:I}=Z(a),u=p(()=>{const{meta:{activeMenu:T},path:O}=f;return T||O}),g=p(()=>!C.value.opened),_=p(()=>m.value==="left"),V=p(()=>m.value==="top"),S=p(()=>x.value===oe.Mobile),h=p(()=>_.value&&I.value),y=p(()=>_.value?t:void 0),K=p(()=>_.value?c:void 0),D=p(()=>_.value?l:void 0),J=p(()=>m.value!=="top"?"var(--v3-sidebar-menu-item-height)":"var(--v3-navigationbar-height)"),X=p(()=>m.value!=="top"?"var(--v3-sidebar-menu-hover-bg-color)":"transparent"),j=p(()=>m.value==="top"?"none":"block");return(T,O)=>{const Q=n("el-menu"),Y=n("el-scrollbar");return s(),v("div",{class:q({"has-logo":h.value})},[h.value?(s(),b(ze,{key:0,collapse:g.value},null,8,["collapse"])):A("",!0),e(Y,{"wrap-class":"scrollbar-wrapper"},{default:o(()=>[e(Q,{"default-active":u.value,collapse:g.value&&!V.value,"background-color":y.value,"text-color":K.value,"active-text-color":D.value,"unique-opened":!0,"collapse-transition":!1,mode:V.value&&!S.value?"horizontal":"vertical"},{default:o(()=>[(s(!0),v(P,null,F($(k).routes,E=>(s(),b(Ne,{key:E.path,item:E,"base-path":E.path,"is-collapse":g.value,"is-top":V.value},null,8,["item","base-path","is-collapse","is-top"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1}),e(Be)],2)}}}),qe=L(Ge,[["__scopeId","data-v-c7b71ed8"]]),Je={class:"app-wrapper"},Xe={class:"main-container"},je=M({__name:"Left",setup(i){return(t,c)=>(s(),v("div",Je,[e($(qe),{class:"sidebar-container"}),d("div",Xe,[e($(ae),{class:"app-main"})])]))}});const Qe=L(je,[["__scopeId","data-v-9480337c"]]),lt=M({__name:"index",setup(i){return(t,c)=>(s(),v("div",null,[e(Qe)]))}});export{lt as default};
