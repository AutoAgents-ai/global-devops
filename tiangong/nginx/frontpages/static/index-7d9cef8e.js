import{p as te,u as oe,D as ae,A as se}from"./index.vue_vue_type_style_index_0_scoped_c7b71ed8_lang-0da5fdbc.js";import{_ as M,u as le,s as ne,a as ce,b as ie,c as re}from"./index-a684e7cf.js";import{H as w,_ as ue,ah as n,l as s,O as g,P as o,p as r,V as t,T as $,m as f,u as A,aD as de,r as T,U as N,F as B,a8 as F,aE as z,aF as G,I as W,e as _,aa as pe,R as H,S,J as q,X as _e,aG as me,aH as ve,aI as Z}from"./vue-25cdfb55.js";import{p as fe,E as ge,f as he}from"./element-e5236e8d.js";import{g as U}from"./index-15a1f59c.js";import"./vxe-9027ceee.js";const be=["src"],ye={class:"dialog-footer"},ke=w({__name:"EditAccount",props:{dialogAccountVisible:{type:Boolean}},emits:["update:dialogAccountVisible"],setup(i,{emit:e}){const u=e,l=ue({avatar:"",userName:"",passWord:"",language:"",timeZone:""}),h=()=>{u("update:dialogAccountVisible",!1)},d=()=>{u("update:dialogAccountVisible",!1)};return(y,a)=>{const I=n("el-icon"),x=n("el-upload"),p=n("el-form-item"),m=n("el-input"),V=n("el-option"),k=n("el-select"),v=n("el-form"),b=n("el-button"),C=n("el-dialog");return s(),g(C,{"model-value":y.dialogAccountVisible,"append-to-body":"",width:480,title:"账户设置"},{footer:o(()=>[r("span",ye,[t(b,{onClick:h},{default:o(()=>[$("取消")]),_:1}),t(b,{type:"primary",onClick:d},{default:o(()=>[$("确认")]),_:1})])]),default:o(()=>[t(v,{ref:"accountFormRef",model:l,rules:y.rules,"label-position":"top"},{default:o(()=>[t(p,{prop:"avatar",class:"form-item-uploader"},{default:o(()=>[t(x,{class:"avatar-uploader",action:"","show-file-list":!1},{default:o(()=>[l.avatar?(s(),f("img",{key:0,src:l.avatar,class:"avatar"},null,8,be)):(s(),g(I,{key:1,size:24,color:"#dcdfe6",class:"avatar-uploader-icon"},{default:o(()=>[t(A(fe))]),_:1}))]),_:1})]),_:1}),t(p,{label:"用户名",prop:"userName"},{default:o(()=>[t(m,{modelValue:l.userName,"onUpdate:modelValue":a[0]||(a[0]=c=>l.userName=c)},null,8,["modelValue"])]),_:1}),t(p,{label:"密码",prop:"passWord"},{default:o(()=>[t(m,{modelValue:l.passWord,"onUpdate:modelValue":a[1]||(a[1]=c=>l.passWord=c),type:"password","show-password":""},null,8,["modelValue"])]),_:1}),t(p,{label:"语言",prop:"language"},{default:o(()=>[t(k,{modelValue:l.language,"onUpdate:modelValue":a[2]||(a[2]=c=>l.language=c)},{default:o(()=>[t(V,{label:"中文（简体）",value:"中文（简体）"}),t(V,{label:"中文（繁体）",value:"中文（繁体）"})]),_:1},8,["modelValue"])]),_:1}),t(p,{label:"时区",prop:"timeZone"},{default:o(()=>[t(k,{modelValue:l.timeZone,"onUpdate:modelValue":a[3]||(a[3]=c=>l.timeZone=c)},{default:o(()=>[t(V,{label:"中国 北京（GMT+8）",value:"中中国 北京（GMT+8）"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["model-value"])}}}),xe=M(ke,[["__scopeId","data-v-0e7427aa"]]),P=i=>(z("data-v-e6601f84"),i=i(),G(),i),Ve={class:"user-info"},Ie=["src"],Ce={class:"text"},Se={class:"name"},Ae={class:"popover"},we={class:"user-setting"},$e=P(()=>r("div",{class:"item logout"},null,-1)),Me=P(()=>r("div",{class:"item logout"},null,-1)),Le=P(()=>r("div",{class:"item logout"},null,-1)),Te={class:"choose-box"},Be=P(()=>r("p",null,"当前账号开通多个天工 API Key，请选择应用平台使用的 API Key",-1)),Pe={class:"dialog-footer"},Ke=w({__name:"index",setup(i){de();const e=le(),u=T(!1),l=T(),h=T(!1),d=T(),y=()=>{e.logout()},a=()=>{e.apiKeys.length==0?he({title:"提醒",customStyle:{width:"560px",maxWidth:"560px"},showClose:!1,closeOnClickModal:!1,closeOnPressEscape:!1,message:"当前账号未开通天工 API Key，无法进入大模型应用平台。请前往天工平台申请 API Key。",confirmButtonText:"前往申请"}).then(()=>{e.goTg()}):e.apiKeys.length>1&&(u.value=!0)},I=()=>{ne(l.value).then(()=>{ge({message:"操作成功",type:"success"})})};return(()=>{ce().then(async p=>{p.data.code!==1&&a()})})(),(p,m)=>{const V=n("svg-icon"),k=n("el-option"),v=n("el-select"),b=n("el-button"),C=n("el-dialog");return s(),f("div",Ve,[r("div",{class:"menu-avatar",ref_key:"userAvatarRef",ref:d},[r("img",{src:A(e).avatar,class:"avatar"},null,8,Ie),r("div",Ce,[r("h3",Se,N(A(e).username),1)])],512),r("div",Ae,[r("div",we,[$e,Me,Le,r("div",{class:"item logout",onClick:y},[t(V,{name:"Logout",class:"icon"}),$(" 退出登录")])])]),t(C,{modelValue:u.value,"onUpdate:modelValue":m[2]||(m[2]=c=>u.value=c),width:560,title:"API Key设置"},{footer:o(()=>[r("span",Pe,[t(b,{onClick:m[1]||(m[1]=c=>u.value=!1)},{default:o(()=>[$("取消")]),_:1}),t(b,{type:"primary",onClick:I},{default:o(()=>[$("确认")]),_:1})])]),default:o(()=>[r("div",Te,[Be,t(v,{modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=c=>l.value=c),placeholder:"选择天工 API Key"},{default:o(()=>[(s(!0),f(B,null,F(A(e).apiKeys,(c,K)=>(s(),g(k,{label:c,value:c,key:K},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"]),t(xe,{dialogAccountVisible:h.value,"onUpdate:dialogAccountVisible":m[3]||(m[3]=c=>h.value=c)},null,8,["dialogAccountVisible"])])}}}),Ee=M(Ke,[["__scopeId","data-v-e6601f84"]]),R=i=>/^(https?:|mailto:|tel:)/.test(i),Ue=["href"],Ne=w({__name:"SidebarItemLink",props:{to:{}},setup(i){const e=i;return(u,l)=>{const h=n("router-link");return A(R)(e.to)?(s(),f("a",{key:0,href:e.to,target:"_blank",rel:"noopener"},[W(u.$slots,"default")],8,Ue)):(s(),g(h,{key:1,to:e.to},{default:o(()=>[W(u.$slots,"default")]),_:3},8,["to"]))}}}),Re={key:2},Fe=w({__name:"SidebarItem",props:{item:{},isCollapse:{type:Boolean,default:!1},isTop:{type:Boolean,default:!1},isFirstLevel:{type:Boolean,default:!0},basePath:{default:""}},setup(i){const e=i,u=_(()=>{var a;return(a=e.item.meta)==null?void 0:a.alwaysShow}),l=_(()=>{var a;return((a=e.item.children)==null?void 0:a.filter(I=>{var x;return!((x=I.meta)!=null&&x.hidden)}))??[]}),h=_(()=>l.value.length),d=_(()=>{const a=h.value;switch(!0){case a>1:return null;case a===1:return l.value[0];default:return{...e.item,path:""}}}),y=a=>{switch(!0){case R(a):return a;case R(e.basePath):return e.basePath;default:return te.resolve(e.basePath,a)}};return(a,I)=>{var k;const x=n("SvgIcon"),p=n("el-menu-item"),m=n("sidebar-item",!0),V=n("el-sub-menu");return(k=e.item.meta)!=null&&k.hidden?S("",!0):(s(),f("div",{key:0,class:q({"simple-mode":e.isCollapse&&!a.isTop,"first-level":e.isFirstLevel})},[!u.value&&d.value&&!d.value.children?(s(),f(B,{key:0},[d.value.meta?(s(),g(Ne,{key:0,to:y(d.value.path)},{default:o(()=>[t(p,{index:y(d.value.path)},pe({default:o(()=>[d.value.meta.svgIcon?(s(),g(x,{key:0,name:d.value.meta.svgIcon},null,8,["name"])):d.value.meta.elIcon?(s(),g(H(d.value.meta.elIcon),{key:1,class:"el-icon"})):S("",!0)]),_:2},[d.value.meta.title?{name:"title",fn:o(()=>[$(N(d.value.meta.title),1)]),key:"0"}:void 0]),1032,["index"])]),_:1},8,["to"])):S("",!0)],64)):(s(),g(V,{key:1,index:y(e.item.path),teleported:""},{title:o(()=>{var v,b,C;return[(v=e.item.meta)!=null&&v.svgIcon?(s(),g(x,{key:0,name:e.item.meta.svgIcon},null,8,["name"])):(b=e.item.meta)!=null&&b.elIcon?(s(),g(H(e.item.meta.elIcon),{key:1,class:"el-icon"})):S("",!0),(C=e.item.meta)!=null&&C.title?(s(),f("span",Re,N(e.item.meta.title),1)):S("",!0)]}),default:o(()=>[e.item.children?(s(!0),f(B,{key:0},F(e.item.children,v=>(s(),g(m,{key:v.path,item:v,"is-collapse":e.isCollapse,"is-first-level":!1,"base-path":y(v.path)},null,8,["item","is-collapse","base-path"]))),128)):S("",!0)]),_:1},8,["index"]))],2))}}}),De=M(Fe,[["__scopeId","data-v-688ba5d0"]]),Oe=i=>(z("data-v-b69b52ea"),i=i(),G(),i),We={class:"layout-logo-container"},He={class:"layout-logo-box"},Ze={class:"beta-box"},ze=Oe(()=>r("span",{class:"beta"},"beta",-1)),Ge={key:0,class:"layout-logo-text"},qe=w({__name:"index",props:{collapse:{type:Boolean,default:!0}},setup(i){return(e,u)=>{const l=n("svg-icon"),h=n("router-link");return s(),f("div",We,[t(_e,{name:"layout-logo-fade"},{default:o(()=>[t(h,{to:"/"},{default:o(()=>[r("div",He,[t(l,{name:"LTLogo",color:"#fff",class:"LTLogo"}),r("div",Ze,[ze,e.collapse?S("",!0):(s(),f("h2",Ge,"SkyAgents"))])])]),_:1})]),_:1})])}}}),Je=M(qe,[["__scopeId","data-v-b69b52ea"]]),Xe=w({__name:"index",setup(i){me(L=>({"6722f728":Q.value,"2f202f4e":X.value,"587add76":j.value,"59ec4889":D.value}));const e=U("--v3-sidebar-menu-bg-color"),u=U("--v3-sidebar-menu-text-color"),l=U("--v3-sidebar-menu-active-text-color"),h=ve(),d=oe(),y=ie(),a=re(),{sidebar:I,device:x}=Z(d),{layoutMode:p,showLogo:m}=Z(a),V=_(()=>{const{meta:{activeMenu:L},path:O}=h;return L||O}),k=_(()=>!I.value.opened),v=_(()=>p.value==="left"),b=_(()=>p.value==="top"),C=_(()=>x.value===ae.Mobile),c=_(()=>v.value&&m.value),K=_(()=>v.value?e:void 0),J=_(()=>v.value?u:void 0),D=_(()=>v.value?l:void 0),X=_(()=>p.value!=="top"?"var(--v3-sidebar-menu-item-height)":"var(--v3-navigationbar-height)"),j=_(()=>p.value!=="top"?"var(--v3-sidebar-menu-hover-bg-color)":"transparent"),Q=_(()=>p.value==="top"?"none":"block");return(L,O)=>{const Y=n("el-menu"),ee=n("el-scrollbar");return s(),f("div",{class:q({"has-logo":c.value})},[c.value?(s(),g(Je,{key:0,collapse:k.value},null,8,["collapse"])):S("",!0),t(ee,{"wrap-class":"scrollbar-wrapper"},{default:o(()=>[t(Y,{"default-active":V.value,collapse:k.value&&!b.value,"background-color":K.value,"text-color":J.value,"active-text-color":D.value,"unique-opened":!0,"collapse-transition":!1,mode:b.value&&!C.value?"horizontal":"vertical"},{default:o(()=>[(s(!0),f(B,null,F(A(y).routes,E=>(s(),g(De,{key:E.path,item:E,"base-path":E.path,"is-collapse":k.value,"is-top":b.value},null,8,["item","base-path","is-collapse","is-top"]))),128))]),_:1},8,["default-active","collapse","background-color","text-color","active-text-color","mode"])]),_:1}),t(Ee)],2)}}}),je=M(Xe,[["__scopeId","data-v-c7b71ed8"]]),Qe={class:"app-wrapper"},Ye={class:"main-container"},et=w({__name:"Left",setup(i){return(e,u)=>(s(),f("div",Qe,[t(A(je),{class:"sidebar-container"}),r("div",Ye,[t(A(se),{class:"app-main"})])]))}});const tt=M(et,[["__scopeId","data-v-9480337c"]]),it=w({__name:"index",setup(i){return(e,u)=>(s(),f("div",null,[t(tt)]))}});export{it as default};
