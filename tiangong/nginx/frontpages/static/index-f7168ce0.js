import{H as b,ah as t,l as f,O as v,P as o,V as e,m as k,a8 as V,u as l,F as I,p as r,U as N,aD as C,r as y,_ as F,a3 as E,T as O,a9 as S,aF as T,aG as z}from"./vue-6e387ee8.js";import{h as B,u as R,_ as U}from"./index-0c15d20b.js";import{h as D,j as K,l as L}from"./element-3f409242.js";import"./vxe-e514f80f.js";const M=b({__name:"index",setup(d){const{themeList:g,activeThemeName:p,setTheme:i}=B();return(n,w)=>{const m=t("el-icon"),c=t("el-tooltip"),a=t("el-dropdown-item"),s=t("el-dropdown-menu"),u=t("el-dropdown");return f(),v(u,{trigger:"click",onCommand:l(i)},{dropdown:o(()=>[e(s,null,{default:o(()=>[(f(!0),k(I,null,V(l(g),(_,h)=>(f(),v(a,{key:h,disabled:l(p)===_.name,command:_.name},{default:o(()=>[r("span",null,N(_.title),1)]),_:2},1032,["disabled","command"]))),128))]),_:1})]),default:o(()=>[r("div",null,[e(c,{effect:"dark",content:"主题模式",placement:"bottom"},{default:o(()=>[e(m,{size:20},{default:o(()=>[e(l(D))]),_:1})]),_:1})])]),_:1},8,["onCommand"])}}}),q=d=>(T("data-v-4d8bfe32"),d=d(),z(),d),j={class:"login-container"},G={class:"login-card"},H=q(()=>r("div",{class:"title"},[r("h2",null,"用户登录")],-1)),P={class:"content"},$=b({__name:"index",setup(d){const g=C(),p=y(null),i=y(!1),n=F({userNameOrExternalId:"",password:""}),w={userNameOrExternalId:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},m=()=>{var c;(c=p.value)==null||c.validate((a,s)=>{a?(i.value=!0,R().login(n).then(()=>{g.push({path:"/tool"})}).catch(()=>{n.password=""}).finally(()=>{i.value=!1})):console.error("表单校验不通过",s)})};return(c,a)=>{const s=t("el-input"),u=t("el-form-item"),_=t("el-button"),h=t("el-form");return f(),k("div",j,[e(M,{class:"theme-switch"}),r("div",G,[H,r("div",P,[e(h,{ref_key:"loginFormRef",ref:p,model:n,rules:w,onKeyup:S(m,["enter"])},{default:o(()=>[e(u,{prop:"username"},{default:o(()=>[e(s,{modelValue:n.userNameOrExternalId,"onUpdate:modelValue":a[0]||(a[0]=x=>n.userNameOrExternalId=x),modelModifiers:{trim:!0},placeholder:"用户名",type:"text",tabindex:"1","prefix-icon":l(K),size:"large"},null,8,["modelValue","prefix-icon"])]),_:1}),e(u,{prop:"password"},{default:o(()=>[e(s,{modelValue:n.password,"onUpdate:modelValue":a[1]||(a[1]=x=>n.password=x),modelModifiers:{trim:!0},placeholder:"密码",type:"password",tabindex:"2","prefix-icon":l(L),size:"large","show-password":""},null,8,["modelValue","prefix-icon"])]),_:1}),e(_,{loading:i.value,type:"primary",size:"large",onClick:E(m,["prevent"])},{default:o(()=>[O("登 录")]),_:1},8,["loading","onClick"])]),_:1},8,["model","onKeyup"])])])])}}});const X=U($,[["__scopeId","data-v-4d8bfe32"]]);export{X as default};
