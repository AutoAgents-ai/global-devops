import{r as k,o as _,_ as m}from"./index-e4a3aec9.js";import{H as f,r as p,aJ as v,c as y,ah as i,l as w,m as S,p as r,V as n,P as u,K as I,u as A,aD as b,aE as x}from"./vue-82a6b7fc.js";import"./element-155f1a92.js";import"./vxe-fc542a86.js";function T(e){return k({url:`/auth/user/keys?token=${e}`,method:"post"})}const C=e=>(b("data-v-4aa743b9"),e=e(),x(),e),V={class:"steer-head"},$={class:"head-leftIcon"},z=C(()=>r("span",{class:"head-title"},"SkyAgents",-1)),B={class:"head-rightIcon"},E=f({__name:"steer",setup(e){let c=p(window.location.hash.split("?")[1].split("=")[1]);const d=v();let h=async s=>{let{data:l}=await T("?token="+s);localStorage.setItem("SkyAgents-token-ky",JSON.stringify(l.data.token))},t=p("/src/assets/stee.svg");return y(()=>{window.innerWidth<=500?t.value="/src/assets/stee.svg":t.value="/src/assets/steer.svg",window.addEventListener("resize",o=>{window.innerWidth<=500?t.value="/src/assets/stee.svg":t.value="/src/assets/steer.svg"});let s=_.get("k_sso_token");_.get("SkyAgents-token-key")?setTimeout(()=>{d.push("/agent/outlink?hash="+c)},5e3):s?(h(s),setTimeout(()=>{d.push("/agent/outlink?hash="+c)},5e3)):setTimeout(()=>{const o=encodeURIComponent("https://model-platform-skyagents.tiangong.cn/#/agent/outlink?hash="+c),a=encodeURI(`redirect=${o}&client_id=200005`);location.href=`https://sso.tiangong.cn?${a}`},5e3)}),(s,l)=>{const o=i("ArrowLeft"),a=i("el-icon"),g=i("MoreFilled");return w(),S("div",{class:"steer",style:I({backgroundImage:`url(' ${A(t)} ')`})},[r("div",V,[r("div",$,[n(a,{style:{"font-size":"20px",color:"black"}},{default:u(()=>[n(o)]),_:1})]),z,r("div",B,[n(a,{style:{color:"black"}},{default:u(()=>[n(g)]),_:1})])])],4)}}});const R=m(E,[["__scopeId","data-v-4aa743b9"]]);export{R as default};
