import{c as qt,b as Dn,u as xe}from"./@rc-component-da886a85.js";import{r as n}from"./react-f8c4b268.js";import"./react-is-e8e5dbb3.js";import{c as B,d as ze,b as O,e as w,g as se,h as We,f as Ie,_ as Jt,a as Zt}from"./@babel-8debb48f.js";import{c as re}from"./classnames-25f5e917.js";import{E as Ct,o as gt,x as St,f as Rn,l as rt,z as Qt,c as er,B as gn,I as at,C as ot,h as nr,d as lt,J as tr,q as it,j as He,H as rr,a as on}from"./rc-util-35a1817f.js";import{R as ln}from"./rc-resize-observer-db8399b3.js";import{r as ut}from"./react-dom-daa06353.js";var Xe={},wn="rc-table-internal-hook",An=qt(),Rt=An.makeImmutable,je=An.responseImmutable,ar=An.useImmutableMark,Re=Dn();function or(e,r){var t=n.useRef(0);t.current+=1;var a=n.useRef(e),o=[];Object.keys(e||{}).map(function(u){var c;(e==null?void 0:e[u])!==((c=a.current)===null||c===void 0?void 0:c[u])&&o.push(u)}),a.current=e;var l=n.useRef([]);return o.length&&(l.current=o),n.useDebugValue(t.current),n.useDebugValue(l.current.join(", ")),r&&console.log("".concat(r,":"),t.current,l.current),t.current}var lr=n.memo(function(){var e=or();return n.createElement("h1",null,"Render Times: ",e)});lr.displayName="RenderBlock";var wt=n.createContext({renderWithProps:!1}),ir="RC_TABLE_KEY";function ur(e){return e==null?[]:Array.isArray(e)?e:[e]}function En(e){var r=[],t={};return e.forEach(function(a){for(var o=a||{},l=o.key,u=o.dataIndex,c=l||ur(u).join("-")||ir;t[c];)c="".concat(c,"_next");t[c]=!0,r.push(c)}),r}function Bn(e){return e!=null}function cr(e){return e&&ze(e)==="object"&&!Array.isArray(e)&&!n.isValidElement(e)}function sr(e,r,t,a,o,l){var u=n.useContext(wt),c=ar(),i=Ct(function(){if(Bn(a))return[a];var d=r==null||r===""?[]:Array.isArray(r)?r:[r],v=St(e,d),s=v,m=void 0;if(o){var f=o(v,e,t);cr(f)?(s=f.children,m=f.props,u.renderWithProps=!0):s=f}return[s,m]},[c,e,a,r,o,t],function(d,v){if(l){var s=B(d,2),m=s[1],f=B(v,2),p=f[1];return l(p,m)}return u.renderWithProps?!0:!gt(d,v,!0)});return i}function fr(e,r,t,a){var o=e+r-1;return e<=a&&o>=t}function dr(e,r){return xe(Re,function(t){var a=fr(e,r||1,t.hoverStartRow,t.hoverEndRow);return[a,t.onHover]})}var vr=function(r){var t=r.ellipsis,a=r.rowType,o=r.children,l,u=t===!0?{showTitle:!0}:t;return u&&(u.showTitle||a==="header")&&(typeof o=="string"||typeof o=="number"?l=o.toString():n.isValidElement(o)&&typeof o.props.children=="string"&&(l=o.props.children)),l};function mr(e){var r,t,a,o,l,u,c,i,d=e.component,v=e.children,s=e.ellipsis,m=e.scope,f=e.prefixCls,p=e.className,x=e.align,h=e.record,g=e.render,C=e.dataIndex,E=e.renderIndex,k=e.shouldCellUpdate,N=e.index,M=e.rowType,I=e.colSpan,$=e.rowSpan,L=e.fixLeft,K=e.fixRight,R=e.firstFixLeft,S=e.lastFixLeft,y=e.firstFixRight,b=e.lastFixRight,F=e.appendNode,H=e.additionalProps,T=H===void 0?{}:H,_=e.isSticky,W="".concat(f,"-cell"),ee=xe(Re,["supportSticky","allColumnsFixedLeft"]),q=ee.supportSticky,ie=ee.allColumnsFixedLeft,le=sr(h,C,E,v,g,k),fe=B(le,2),Y=fe[0],Z=fe[1],ae={},ve=typeof L=="number"&&q,oe=typeof K=="number"&&q;ve&&(ae.position="sticky",ae.left=L),oe&&(ae.position="sticky",ae.right=K);var J=(r=(t=(a=Z==null?void 0:Z.colSpan)!==null&&a!==void 0?a:T.colSpan)!==null&&t!==void 0?t:I)!==null&&r!==void 0?r:1,ne=(o=(l=(u=Z==null?void 0:Z.rowSpan)!==null&&u!==void 0?u:T.rowSpan)!==null&&l!==void 0?l:$)!==null&&o!==void 0?o:1,U=dr(N,ne),D=B(U,2),Q=D[0],we=D[1],Te=function(me){var j;h&&we(N,N+ne-1),T==null||(j=T.onMouseEnter)===null||j===void 0||j.call(T,me)},Ne=function(me){var j;h&&we(-1,-1),T==null||(j=T.onMouseLeave)===null||j===void 0||j.call(T,me)};if(J===0||ne===0)return null;var de=(c=T.title)!==null&&c!==void 0?c:vr({rowType:M,ellipsis:s,children:Y}),A=re(W,p,(i={},O(i,"".concat(W,"-fix-left"),ve&&q),O(i,"".concat(W,"-fix-left-first"),R&&q),O(i,"".concat(W,"-fix-left-last"),S&&q),O(i,"".concat(W,"-fix-left-all"),S&&ie&&q),O(i,"".concat(W,"-fix-right"),oe&&q),O(i,"".concat(W,"-fix-right-first"),y&&q),O(i,"".concat(W,"-fix-right-last"),b&&q),O(i,"".concat(W,"-ellipsis"),s),O(i,"".concat(W,"-with-append"),F),O(i,"".concat(W,"-fix-sticky"),(ve||oe)&&_&&q),O(i,"".concat(W,"-row-hover"),!Z&&Q),i),T.className,Z==null?void 0:Z.className),ke={};x&&(ke.textAlign=x);var ue=w(w(w(w({},ae),T.style),ke),Z==null?void 0:Z.style),ce=Y;return ze(ce)==="object"&&!Array.isArray(ce)&&!n.isValidElement(ce)&&(ce=null),s&&(S||y)&&(ce=n.createElement("span",{className:"".concat(W,"-content")},ce)),n.createElement(d,se({},Z,T,{className:A,style:ue,title:de,scope:m,onMouseEnter:Te,onMouseLeave:Ne,colSpan:J!==1?J:null,rowSpan:ne!==1?ne:null}),F,ce)}const Ye=n.memo(mr);function Xn(e,r,t,a,o,l){var u=t[e]||{},c=t[r]||{},i,d;u.fixed==="left"?i=a.left[o==="rtl"?r:e]:c.fixed==="right"&&(d=a.right[o==="rtl"?e:r]);var v=!1,s=!1,m=!1,f=!1,p=t[r+1],x=t[e-1],h=!(l!=null&&l.children);if(o==="rtl"){if(i!==void 0){var g=x&&x.fixed==="left";f=!g&&h}else if(d!==void 0){var C=p&&p.fixed==="right";m=!C&&h}}else if(i!==void 0){var E=p&&p.fixed==="left";v=!E&&h}else if(d!==void 0){var k=x&&x.fixed==="right";s=!k&&h}return{fixLeft:i,fixRight:d,lastFixLeft:v,firstFixRight:s,lastFixRight:m,firstFixLeft:f,isSticky:a.isSticky}}var Et=n.createContext({});function pr(e){var r=e.className,t=e.index,a=e.children,o=e.colSpan,l=o===void 0?1:o,u=e.rowSpan,c=e.align,i=xe(Re,["prefixCls","direction"]),d=i.prefixCls,v=i.direction,s=n.useContext(Et),m=s.scrollColumnIndex,f=s.stickyOffsets,p=s.flattenColumns,x=s.columns,h=t+l-1,g=h+1===m?l+1:l,C=Xn(t,t+g-1,p,f,v,x==null?void 0:x[t]);return n.createElement(Ye,se({className:r,index:t,component:"td",prefixCls:d,record:null,dataIndex:null,align:c,colSpan:g,rowSpan:u,render:function(){return a}},C))}var hr=["children"];function xr(e){var r=e.children,t=We(e,hr);return n.createElement("tr",t,r)}function bn(e){var r=e.children;return r}bn.Row=xr;bn.Cell=pr;function yr(e){var r=e.children,t=e.stickyOffsets,a=e.flattenColumns,o=e.columns,l=xe(Re,"prefixCls"),u=a.length-1,c=a[u],i=n.useMemo(function(){return{stickyOffsets:t,flattenColumns:a,scrollColumnIndex:c!=null&&c.scrollbar?u:null,columns:o}},[c,a,u,t,o]);return n.createElement(Et.Provider,{value:i},n.createElement("tfoot",{className:"".concat(l,"-summary")},r))}const Sn=je(yr);var Cr=bn;function bt(e,r,t,a,o,l,u){e.push({record:r,indent:t,index:u});var c=l(r),i=o==null?void 0:o.has(c);if(r&&Array.isArray(r[a])&&i)for(var d=0;d<r[a].length;d+=1)bt(e,r[a][d],t+1,a,o,l,d)}function Nt(e,r,t,a){var o=n.useMemo(function(){if(t!=null&&t.size){for(var l=[],u=0;u<(e==null?void 0:e.length);u+=1){var c=e[u];bt(l,c,0,r,t,a,u)}return l}return e==null?void 0:e.map(function(i,d){return{record:i,indent:0,index:d}})},[e,r,t,a]);return o}function kt(e,r,t,a){var o=xe(Re,["prefixCls","fixedInfoList","flattenColumns","expandableType","expandRowByClick","onTriggerExpand","rowClassName","expandedRowClassName","indentSize","expandIcon","expandedRowRender","expandIconColumnIndex","expandedKeys","childrenColumnName","rowExpandable","onRow"]),l=o.flattenColumns,u=o.expandableType,c=o.expandedKeys,i=o.childrenColumnName,d=o.onTriggerExpand,v=o.rowExpandable,s=o.onRow,m=o.expandRowByClick,f=o.rowClassName,p=u==="nest",x=u==="row"&&(!v||v(e)),h=x||p,g=c&&c.has(r),C=i&&e&&e[i],E=Rn(d),k=s==null?void 0:s(e,t),N=k==null?void 0:k.onClick,M=function(K){m&&h&&d(e,K);for(var R=arguments.length,S=new Array(R>1?R-1:0),y=1;y<R;y++)S[y-1]=arguments[y];N==null||N.apply(void 0,[K].concat(S))},I;typeof f=="string"?I=f:typeof f=="function"&&(I=f(e,t,a));var $=En(l);return w(w({},o),{},{columnsKey:$,nestExpandable:p,expanded:g,hasNestChildren:C,record:e,onTriggerExpand:E,rowSupportExpand:x,expandable:h,rowProps:w(w({},k),{},{className:re(I,k==null?void 0:k.className),onClick:M})})}function Mt(e){var r=e.prefixCls,t=e.children,a=e.component,o=e.cellComponent,l=e.className,u=e.expanded,c=e.colSpan,i=e.isEmpty,d=xe(Re,["scrollbarSize","fixHeader","fixColumn","componentWidth","horizonScroll"]),v=d.scrollbarSize,s=d.fixHeader,m=d.fixColumn,f=d.componentWidth,p=d.horizonScroll,x=t;return(i?p&&f:m)&&(x=n.createElement("div",{style:{width:f-(s?v:0),position:"sticky",left:0,overflow:"hidden"},className:"".concat(r,"-expanded-row-fixed")},x)),n.createElement(a,{className:l,style:{display:u?null:"none"}},n.createElement(Ye,{component:o,prefixCls:r,colSpan:c},x))}function Tt(e,r,t,a,o){var l=e.record,u=e.prefixCls,c=e.columnsKey,i=e.fixedInfoList,d=e.expandIconColumnIndex,v=e.nestExpandable,s=e.indentSize,m=e.expandIcon,f=e.expanded,p=e.hasNestChildren,x=e.onTriggerExpand,h=c[t],g=i[t],C;t===(d||0)&&v&&(C=n.createElement(n.Fragment,null,n.createElement("span",{style:{paddingLeft:"".concat(s*a,"px")},className:"".concat(u,"-row-indent indent-level-").concat(a)}),m({prefixCls:u,expanded:f,expandable:p,record:l,onExpand:x})));var E;return r.onCell&&(E=r.onCell(l,o)),{key:h,fixedInfo:g,appendCellNode:C,additionalCellProps:E||{}}}function Lt(e){var r=e.className,t=e.style,a=e.record,o=e.index,l=e.renderIndex,u=e.rowKey,c=e.indent,i=c===void 0?0:c,d=e.rowComponent,v=e.cellComponent,s=e.scopeCellComponent,m=kt(a,u,o,i),f=m.prefixCls,p=m.flattenColumns,x=m.expandedRowClassName,h=m.expandedRowRender,g=m.rowProps,C=m.expanded,E=m.rowSupportExpand,k=n.useRef(!1);k.current||(k.current=C);var N=n.createElement(d,se({},g,{"data-row-key":u,className:re(r,"".concat(f,"-row"),"".concat(f,"-row-level-").concat(i),g==null?void 0:g.className),style:w(w({},t),g==null?void 0:g.style)}),p.map(function(L,K){var R=L.render,S=L.dataIndex,y=L.className,b=Tt(m,L,K,i,o),F=b.key,H=b.fixedInfo,T=b.appendCellNode,_=b.additionalCellProps;return n.createElement(Ye,se({className:y,ellipsis:L.ellipsis,align:L.align,scope:L.rowScope,component:L.rowScope?s:v,prefixCls:f,key:F,record:a,index:o,renderIndex:l,dataIndex:S,render:R,shouldCellUpdate:L.shouldCellUpdate},H,{appendNode:T,additionalProps:_}))})),M;if(E&&(k.current||C)){var I=h(a,o,i+1,C),$=x&&x(a,o,i);M=n.createElement(Mt,{expanded:C,className:re("".concat(f,"-expanded-row"),"".concat(f,"-expanded-row-level-").concat(i+1),$),prefixCls:f,component:d,cellComponent:v,colSpan:p.length,isEmpty:!1},I)}return n.createElement(n.Fragment,null,N,M)}Lt.displayName="BodyRow";const gr=je(Lt);function Sr(e){var r=e.columnKey,t=e.onColumnResize,a=n.useRef();return n.useEffect(function(){a.current&&t(r,a.current.offsetWidth)},[]),n.createElement(ln,{data:r},n.createElement("td",{ref:a,style:{padding:0,border:0,height:0}},n.createElement("div",{style:{height:0,overflow:"hidden"}},"Â ")))}function Rr(e){var r=e.prefixCls,t=e.columnsKey,a=e.onColumnResize;return n.createElement("tr",{"aria-hidden":"true",className:"".concat(r,"-measure-row"),style:{height:0,fontSize:0}},n.createElement(ln.Collection,{onBatchResize:function(l){l.forEach(function(u){var c=u.data,i=u.size;a(c,i.offsetWidth)})}},t.map(function(o){return n.createElement(Sr,{key:o,columnKey:o,onColumnResize:a})})))}function It(e){var r=e.data,t=e.measureColumnWidth,a=xe(Re,["prefixCls","getComponent","onColumnResize","flattenColumns","getRowKey","expandedKeys","childrenColumnName","emptyNode"]),o=a.prefixCls,l=a.getComponent,u=a.onColumnResize,c=a.flattenColumns,i=a.getRowKey,d=a.expandedKeys,v=a.childrenColumnName,s=a.emptyNode,m=Nt(r,v,d,i),f=n.useRef({renderWithProps:!1}),p=l(["body","wrapper"],"tbody"),x=l(["body","row"],"tr"),h=l(["body","cell"],"td"),g=l(["body","cell"],"th"),C;r.length?C=m.map(function(k,N){var M=k.record,I=k.indent,$=k.index,L=i(M,N);return n.createElement(gr,{key:L,rowKey:L,record:M,index:N,renderIndex:$,rowComponent:x,cellComponent:h,scopeCellComponent:g,getRowKey:i,indent:I})}):C=n.createElement(Mt,{expanded:!0,className:"".concat(o,"-placeholder"),prefixCls:o,component:x,cellComponent:h,colSpan:c.length,isEmpty:!0},s);var E=En(c);return n.createElement(wt.Provider,{value:f.current},n.createElement(p,{className:"".concat(o,"-tbody")},t&&n.createElement(Rr,{prefixCls:o,columnsKey:E,onColumnResize:u}),C))}It.displayName="Body";const wr=je(It);var Er=["expandable"],Ht="RC_TABLE_INTERNAL_COL_DEFINE";function br(e){var r=e.expandable,t=We(e,Er),a;return"expandable"in e?a=w(w({},t),r):a=t,a.showExpandColumn===!1&&(a.expandIconColumnIndex=-1),a}var Nr=["columnType"];function _t(e){for(var r=e.colWidths,t=e.columns,a=e.columCount,o=[],l=a||t.length,u=!1,c=l-1;c>=0;c-=1){var i=r[c],d=t&&t[c],v=d&&d[Ht];if(i||v||u){var s=v||{};s.columnType;var m=We(s,Nr);o.unshift(n.createElement("col",se({key:c,style:{width:i}},m))),u=!0}}return n.createElement("colgroup",null,o)}var kr=["className","noData","columns","flattenColumns","colWidths","columCount","stickyOffsets","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName","onScroll","maxContentScroll","children"];function Mr(e,r){return n.useMemo(function(){for(var t=[],a=0;a<r;a+=1){var o=e[a];if(o!==void 0)t[a]=o;else return null}return t},[e.join("_"),r])}var zt=n.forwardRef(function(e,r){var t=e.className,a=e.noData,o=e.columns,l=e.flattenColumns,u=e.colWidths,c=e.columCount,i=e.stickyOffsets,d=e.direction,v=e.fixHeader,s=e.stickyTopOffset,m=e.stickyBottomOffset,f=e.stickyClassName,p=e.onScroll,x=e.maxContentScroll,h=e.children,g=We(e,kr),C=xe(Re,["prefixCls","scrollbarSize","isSticky"]),E=C.prefixCls,k=C.scrollbarSize,N=C.isSticky,M=N&&!v?0:k,I=n.useRef(null),$=n.useCallback(function(H){rt(r,H),rt(I,H)},[]);n.useEffect(function(){var H;function T(_){var W=_,ee=W.currentTarget,q=W.deltaX;q&&(p({currentTarget:ee,scrollLeft:ee.scrollLeft+q}),_.preventDefault())}return(H=I.current)===null||H===void 0||H.addEventListener("wheel",T),function(){var _;(_=I.current)===null||_===void 0||_.removeEventListener("wheel",T)}},[]);var L=n.useMemo(function(){return l.every(function(H){return H.width})},[l]),K=l[l.length-1],R={fixed:K?K.fixed:null,scrollbar:!0,onHeaderCell:function(){return{className:"".concat(E,"-cell-scrollbar")}}},S=n.useMemo(function(){return M?[].concat(Ie(o),[R]):o},[M,o]),y=n.useMemo(function(){return M?[].concat(Ie(l),[R]):l},[M,l]),b=n.useMemo(function(){var H=i.right,T=i.left;return w(w({},i),{},{left:d==="rtl"?[].concat(Ie(T.map(function(_){return _+M})),[0]):T,right:d==="rtl"?H:[].concat(Ie(H.map(function(_){return _+M})),[0]),isSticky:N})},[M,i,N]),F=Mr(u,c);return n.createElement("div",{style:w({overflow:"hidden"},N?{top:s,bottom:m}:{}),ref:$,className:re(t,O({},f,!!f))},n.createElement("table",{style:{tableLayout:"fixed",visibility:a||F?null:"hidden"}},(!a||!x||L)&&n.createElement(_t,{colWidths:F?[].concat(Ie(F),[M]):[],columCount:c+1,columns:y}),h(w(w({},g),{},{stickyOffsets:b,columns:S,flattenColumns:y}))))});zt.displayName="FixedHolder";const ct=n.memo(zt);function Pt(e){var r=e.cells,t=e.stickyOffsets,a=e.flattenColumns,o=e.rowComponent,l=e.cellComponent,u=e.tdCellComponent,c=e.onHeaderRow,i=e.index,d=xe(Re,["prefixCls","direction"]),v=d.prefixCls,s=d.direction,m;c&&(m=c(r.map(function(p){return p.column}),i));var f=En(r.map(function(p){return p.column}));return n.createElement(o,m,r.map(function(p,x){var h=p.column,g=Xn(p.colStart,p.colEnd,a,t,s,h),C;return h&&h.onHeaderCell&&(C=p.column.onHeaderCell(h)),n.createElement(Ye,se({},p,{scope:h.title?p.colSpan>1?"colgroup":"col":null,ellipsis:h.ellipsis,align:h.align,component:h.title?l:u,prefixCls:v,key:f[x]},g,{additionalProps:C,rowType:"header"}))}))}Pt.displayName="HeaderRow";function Tr(e){var r=[];function t(u,c){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;r[i]=r[i]||[];var d=c,v=u.filter(Boolean).map(function(s){var m={key:s.key,className:s.className||"",children:s.title,column:s,colStart:d},f=1,p=s.children;return p&&p.length>0&&(f=t(p,d,i+1).reduce(function(x,h){return x+h},0),m.hasSubColumns=!0),"colSpan"in s&&(f=s.colSpan),"rowSpan"in s&&(m.rowSpan=s.rowSpan),m.colSpan=f,m.colEnd=m.colStart+f-1,r[i].push(m),d+=f,f});return v}t(e,0);for(var a=r.length,o=function(c){r[c].forEach(function(i){!("rowSpan"in i)&&!i.hasSubColumns&&(i.rowSpan=a-c)})},l=0;l<a;l+=1)o(l);return r}function Lr(e){var r=e.stickyOffsets,t=e.columns,a=e.flattenColumns,o=e.onHeaderRow,l=xe(Re,["prefixCls","getComponent"]),u=l.prefixCls,c=l.getComponent,i=n.useMemo(function(){return Tr(t)},[t]),d=c(["header","wrapper"],"thead"),v=c(["header","row"],"tr"),s=c(["header","cell"],"th"),m=c(["header","cell"],"td");return n.createElement(d,{className:"".concat(u,"-thead")},i.map(function(f,p){var x=n.createElement(Pt,{key:p,flattenColumns:a,cells:f,stickyOffsets:r,rowComponent:v,cellComponent:s,tdCellComponent:m,onHeaderRow:o,index:p});return x}))}const st=je(Lr);function ft(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return typeof r=="number"?r:r.endsWith("%")?e*parseFloat(r)/100:null}function Ir(e,r,t){return n.useMemo(function(){if(r&&r>0){var a=0,o=0;e.forEach(function(m){var f=ft(r,m.width);f?a+=f:o+=1});var l=Math.max(r-a,o),u=o,c=l/o,i=0,d=e.map(function(m){var f=w({},m),p=ft(r,f.width);if(p)f.width=p;else{var x=Math.floor(c);f.width=u===1?l:x,l-=x,u-=1}return i+=f.width,f}),v=Math.max(r,t);if(i<v){var s=v/i;l=v,d.forEach(function(m,f){var p=Math.floor(m.width*s);m.width=f===d.length-1?l:p,l-=p})}return[d,Math.max(i,v)]}return[e,r]},[e,r,t])}var Hr=["children"],_r=["fixed"];function Ot(e){return Qt(e).filter(function(r){return n.isValidElement(r)}).map(function(r){var t=r.key,a=r.props,o=a.children,l=We(a,Hr),u=w({key:t},l);return o&&(u.children=Ot(o)),u})}function Wn(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"key";return e.filter(function(t){return t&&ze(t)==="object"}).reduce(function(t,a,o){var l=a.fixed,u=l===!0?"left":l,c="".concat(r,"-").concat(o),i=a.children;return i&&i.length>0?[].concat(Ie(t),Ie(Wn(i,c).map(function(d){return w({fixed:u},d)}))):[].concat(Ie(t),[w(w({key:c},a),{},{fixed:u})])},[])}function zr(e){return e.map(function(r){var t=r.fixed,a=We(r,_r),o=t;return t==="left"?o="right":t==="right"&&(o="left"),w({fixed:o},a)})}function Pr(e,r){var t=e.prefixCls,a=e.columns,o=e.children,l=e.expandable,u=e.expandedKeys,c=e.columnTitle,i=e.getRowKey,d=e.onTriggerExpand,v=e.expandIcon,s=e.rowExpandable,m=e.expandIconColumnIndex,f=e.direction,p=e.expandRowByClick,x=e.columnWidth,h=e.fixed,g=e.scrollWidth,C=e.clientWidth,E=n.useMemo(function(){return a||Ot(o)},[a,o]),k=n.useMemo(function(){if(l){var R,S=E.slice();if(!S.includes(Xe)){var y=m||0;y>=0&&S.splice(y,0,Xe)}var b=S.indexOf(Xe);S=S.filter(function(_,W){return _!==Xe||W===b});var F=E[b],H;(h==="left"||h)&&!m?H="left":(h==="right"||h)&&m===E.length?H="right":H=F?F.fixed:null;var T=(R={},O(R,Ht,{className:"".concat(t,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),O(R,"title",c),O(R,"fixed",H),O(R,"className","".concat(t,"-row-expand-icon-cell")),O(R,"width",x),O(R,"render",function(W,ee,q){var ie=i(ee,q),le=u.has(ie),fe=s?s(ee):!0,Y=v({prefixCls:t,expanded:le,expandable:fe,record:ee,onExpand:d});return p?n.createElement("span",{onClick:function(ae){return ae.stopPropagation()}},Y):Y}),R);return S.map(function(_){return _===Xe?T:_})}return E.filter(function(_){return _!==Xe})},[l,E,i,u,v,f]),N=n.useMemo(function(){var R=k;return r&&(R=r(R)),R.length||(R=[{render:function(){return null}}]),R},[r,k,f]),M=n.useMemo(function(){return f==="rtl"?zr(Wn(N)):Wn(N)},[N,f,g]),I=Ir(M,g,C),$=B(I,2),L=$[0],K=$[1];return[N,L,K]}function Or(e){var r,t=e.prefixCls,a=e.record,o=e.onExpand,l=e.expanded,u=e.expandable,c="".concat(t,"-row-expand-icon");if(!u)return n.createElement("span",{className:re(c,"".concat(t,"-row-spaced"))});var i=function(v){o(a,v),v.stopPropagation()};return n.createElement("span",{className:re(c,(r={},O(r,"".concat(t,"-row-expanded"),l),O(r,"".concat(t,"-row-collapsed"),!l),r)),onClick:i})}function Kr(e,r,t){var a=[];function o(l){(l||[]).forEach(function(u,c){a.push(r(u,c)),o(u[t])})}return o(e),a}function Fr(e,r,t){var a=br(e),o=a.expandIcon,l=a.expandedRowKeys,u=a.defaultExpandedRowKeys,c=a.defaultExpandAllRows,i=a.expandedRowRender,d=a.onExpand,v=a.onExpandedRowsChange,s=a.childrenColumnName,m=o||Or,f=s||"children",p=n.useMemo(function(){return i?"row":e.expandable&&e.internalHooks===wn&&e.expandable.__PARENT_RENDER_ICON__||r.some(function(N){return N&&ze(N)==="object"&&N[f]})?"nest":!1},[!!i,r]),x=n.useState(function(){return u||(c?Kr(r,t,f):[])}),h=B(x,2),g=h[0],C=h[1],E=n.useMemo(function(){return new Set(l||g||[])},[l,g]),k=n.useCallback(function(N){var M=t(N,r.indexOf(N)),I,$=E.has(M);$?(E.delete(M),I=Ie(E)):I=[].concat(Ie(E),[M]),C(I),d&&d(!$,N),v&&v(I)},[t,E,r,d,v]);return[a,p,E,m,f,k]}function $r(e,r,t,a){var o=e.map(function(l,u){return Xn(u,u,e,r,t,a==null?void 0:a[u])});return Ct(function(){return o},[o],function(l,u){return!gt(l,u)})}function Kt(e){var r=n.useRef(e),t=n.useState({}),a=B(t,2),o=a[1],l=n.useRef(null),u=n.useRef([]);function c(i){u.current.push(i);var d=Promise.resolve();l.current=d,d.then(function(){if(l.current===d){var v=u.current,s=r.current;u.current=[],v.forEach(function(m){r.current=m(r.current)}),l.current=null,s!==r.current&&o({})}})}return n.useEffect(function(){return function(){l.current=null}},[]),[r.current,c]}function Br(e){var r=n.useRef(e||null),t=n.useRef();function a(){window.clearTimeout(t.current)}function o(u){r.current=u,a(),t.current=window.setTimeout(function(){r.current=null,t.current=void 0},100)}function l(){return r.current}return n.useEffect(function(){return a},[]),[o,l]}function Wr(){var e=n.useState(-1),r=B(e,2),t=r[0],a=r[1],o=n.useState(-1),l=B(o,2),u=l[0],c=l[1],i=n.useCallback(function(d,v){a(d),c(v)},[]);return[t,u,i]}var dt=er()?window:null;function Dr(e,r){var t=ze(e)==="object"?e:{},a=t.offsetHeader,o=a===void 0?0:a,l=t.offsetSummary,u=l===void 0?0:l,c=t.offsetScroll,i=c===void 0?0:c,d=t.getContainer,v=d===void 0?function(){return dt}:d,s=v()||dt;return n.useMemo(function(){var m=!!e;return{isSticky:m,stickyClassName:m?"".concat(r,"-sticky-holder"):"",offsetHeader:o,offsetSummary:u,offsetScroll:i,container:s}},[i,o,u,r,s])}function Ar(e,r,t){var a=n.useMemo(function(){for(var o=[],l=[],u=0,c=0,i=0;i<r;i+=1)if(t==="rtl"){l[i]=c,c+=e[i]||0;var d=r-i-1;o[d]=u,u+=e[d]||0}else{o[i]=u,u+=e[i]||0;var v=r-i-1;l[v]=c,c+=e[v]||0}return{left:o,right:l}},[e,r,t]);return a}function vt(e){var r=e.className,t=e.children;return n.createElement("div",{className:r},t)}var Xr=function(r,t){var a,o,l=r.scrollBodyRef,u=r.onScroll,c=r.offsetScroll,i=r.container,d=xe(Re,"prefixCls"),v=((a=l.current)===null||a===void 0?void 0:a.scrollWidth)||0,s=((o=l.current)===null||o===void 0?void 0:o.clientWidth)||0,m=v&&s*(s/v),f=n.useRef(),p=Kt({scrollLeft:0,isHiddenScrollBar:!1}),x=B(p,2),h=x[0],g=x[1],C=n.useRef({delta:0,x:0}),E=n.useState(!1),k=B(E,2),N=k[0],M=k[1],I=function(){M(!1)},$=function(y){y.persist(),C.current.delta=y.pageX-h.scrollLeft,C.current.x=0,M(!0),y.preventDefault()},L=function(y){var b,F=y||((b=window)===null||b===void 0?void 0:b.event),H=F.buttons;if(!N||H===0){N&&M(!1);return}var T=C.current.x+y.pageX-C.current.x-C.current.delta;T<=0&&(T=0),T+m>=s&&(T=s-m),u({scrollLeft:T/s*(v+2)}),C.current.x=y.pageX},K=function(){if(l.current){var y=ot(l.current).top,b=y+l.current.offsetHeight,F=i===window?document.documentElement.scrollTop+window.innerHeight:ot(i).top+i.clientHeight;b-at()<=F||y>=F-c?g(function(H){return w(w({},H),{},{isHiddenScrollBar:!0})}):g(function(H){return w(w({},H),{},{isHiddenScrollBar:!1})})}},R=function(y){g(function(b){return w(w({},b),{},{scrollLeft:y/v*s||0})})};return n.useImperativeHandle(t,function(){return{setScrollLeft:R}}),n.useEffect(function(){var S=gn(document.body,"mouseup",I,!1),y=gn(document.body,"mousemove",L,!1);return K(),function(){S.remove(),y.remove()}},[m,N]),n.useEffect(function(){var S=gn(i,"scroll",K,!1),y=gn(window,"resize",K,!1);return function(){S.remove(),y.remove()}},[i]),n.useEffect(function(){h.isHiddenScrollBar||g(function(S){var y=l.current;return y?w(w({},S),{},{scrollLeft:y.scrollLeft/y.scrollWidth*y.clientWidth}):S})},[h.isHiddenScrollBar]),v<=s||!m||h.isHiddenScrollBar?null:n.createElement("div",{style:{height:at(),width:s,bottom:c},className:"".concat(d,"-sticky-scroll")},n.createElement("div",{onMouseDown:$,ref:f,className:re("".concat(d,"-sticky-scroll-bar"),O({},"".concat(d,"-sticky-scroll-bar-active"),N)),style:{width:"".concat(m,"px"),transform:"translate3d(".concat(h.scrollLeft,"px, 0, 0)")}}))};const Yr=n.forwardRef(Xr);function Vr(e){return null}function Ur(e){return null}var Ft="rc-table",jr=[],Gr={};function qr(){return"No Data"}function Jr(e){var r,t=w({rowKey:"key",prefixCls:Ft,emptyText:qr},e),a=t.prefixCls,o=t.className,l=t.rowClassName,u=t.style,c=t.data,i=t.rowKey,d=t.scroll,v=t.tableLayout,s=t.direction,m=t.title,f=t.footer,p=t.summary,x=t.caption,h=t.id,g=t.showHeader,C=t.components,E=t.emptyText,k=t.onRow,N=t.onHeaderRow,M=t.internalHooks,I=t.transformColumns,$=t.internalRefs,L=t.tailor,K=t.getContainerWidth,R=t.sticky,S=c||jr,y=!!S.length,b=M===wn,F=n.useCallback(function(X,G){return St(C,X)||G},[C]),H=n.useMemo(function(){return typeof i=="function"?i:function(X){var G=X&&X[i];return G}},[i]),T=F(["body"]),_=Wr(),W=B(_,3),ee=W[0],q=W[1],ie=W[2],le=Fr(t,S,H),fe=B(le,6),Y=fe[0],Z=fe[1],ae=fe[2],ve=fe[3],oe=fe[4],J=fe[5],ne=d==null?void 0:d.x,U=n.useState(0),D=B(U,2),Q=D[0],we=D[1],Te=Pr(w(w(w({},t),Y),{},{expandable:!!Y.expandedRowRender,columnTitle:Y.columnTitle,expandedKeys:ae,getRowKey:H,onTriggerExpand:J,expandIcon:ve,expandIconColumnIndex:Y.expandIconColumnIndex,direction:s,scrollWidth:b&&L&&typeof ne=="number"?ne:null,clientWidth:Q}),b?I:null),Ne=B(Te,3),de=Ne[0],A=Ne[1],ke=Ne[2],ue=ke??ne,ce=n.useMemo(function(){return{columns:de,flattenColumns:A}},[de,A]),Ee=n.useRef(),me=n.useRef(),j=n.useRef(),ye=n.useRef(),Pe=n.useRef(),un=n.useState(!1),cn=B(un,2),sn=cn[0],be=cn[1],Nn=n.useState(!1),fn=B(Nn,2),dn=fn[0],De=fn[1],kn=Kt(new Map),vn=B(kn,2),qe=vn[0],Je=vn[1],Mn=En(A),Ze=Mn.map(function(X){return qe.get(X)}),Qe=n.useMemo(function(){return Ze},[Ze.join("_")]),Ve=Ar(Qe,A.length,s),pe=d&&Bn(d.y),Ce=d&&Bn(ue)||!!Y.fixed,_e=Ce&&A.some(function(X){var G=X.fixed;return G}),en=n.useRef(),Oe=Dr(R,a),Me=Oe.isSticky,Tn=Oe.offsetHeader,Ln=Oe.offsetSummary,mn=Oe.offsetScroll,nn=Oe.stickyClassName,pn=Oe.container,ge=n.useMemo(function(){return p==null?void 0:p(S)},[p,S]),Ke=(pe||Me)&&n.isValidElement(ge)&&ge.type===bn&&ge.props.fixed,tn,Ue,rn;pe&&(Ue={overflowY:"scroll",maxHeight:d.y}),Ce&&(tn={overflowX:"auto"},pe||(Ue={overflowY:"hidden"}),rn={width:ue===!0?"auto":ue,minWidth:"100%"});var Fe=n.useCallback(function(X,G){nr(Ee.current)&&Je(function(Le){if(Le.get(X)!==G){var Se=new Map(Le);return Se.set(X,G),Se}return Le})},[]),hn=Br(null),z=B(hn,2),P=z[0],V=z[1];function te(X,G){G&&(typeof G=="function"?G(X):G.scrollLeft!==X&&(G.scrollLeft=X,G.scrollLeft!==X&&setTimeout(function(){G.scrollLeft=X},0)))}var he=Rn(function(X){var G=X.currentTarget,Le=X.scrollLeft,Se=s==="rtl",Be=typeof Le=="number"?Le:G.scrollLeft,tt=G||Gr;if(!V()||V()===tt){var On;P(tt),te(Be,me.current),te(Be,j.current),te(Be,Pe.current),te(Be,(On=en.current)===null||On===void 0?void 0:On.setScrollLeft)}var Kn=G||me.current;if(Kn){var Fn=Kn.scrollWidth,$n=Kn.clientWidth;if(Fn===$n){be(!1),De(!1);return}Se?(be(-Be<Fn-$n),De(-Be>0)):(be(Be>0),De(Be<Fn-$n))}}),xn=function(){Ce&&j.current?he({currentTarget:j.current}):(be(!1),De(!1))},Ae=function(G){var Le=G.width,Se=Ee.current?Ee.current.offsetWidth:Le;b&&K&&Ee.current&&(Se=K(Ee.current,Se)||Se),Se!==Q&&(xn(),we(Se))},yn=n.useRef(!1);n.useEffect(function(){yn.current&&xn()},[Ce,c,de.length]),n.useEffect(function(){yn.current=!0},[]);var In=n.useState(0),an=B(In,2),$e=an[0],Yn=an[1],Xt=n.useState(!0),Vn=B(Xt,2),Un=Vn[0],Yt=Vn[1];n.useEffect(function(){(!L||!b)&&(j.current instanceof Element?Yn(lt(j.current).width):Yn(lt(ye.current).width)),Yt(tr("position","sticky"))},[]),n.useEffect(function(){b&&$&&($.body.current=j.current)});var Vt=n.useCallback(function(X){return n.createElement(n.Fragment,null,n.createElement(st,X),Ke==="top"&&n.createElement(Sn,X,ge))},[Ke,ge]),Ut=n.useCallback(function(X){return n.createElement(Sn,X,ge)},[ge]),jn=F(["table"],"table"),Cn=n.useMemo(function(){return v||(_e?ue==="max-content"?"auto":"fixed":pe||Me||A.some(function(X){var G=X.ellipsis;return G})?"fixed":"auto")},[pe,_e,A,v,Me]),Hn,_n={colWidths:Qe,columCount:A.length,stickyOffsets:Ve,onHeaderRow:N,fixHeader:pe,scroll:d},Gn=n.useMemo(function(){return y?null:typeof E=="function"?E():E},[y,E]),qn=n.createElement(wr,{data:S,measureColumnWidth:pe||Ce||Me}),Jn=n.createElement(_t,{colWidths:A.map(function(X){var G=X.width;return G}),columns:A}),Zn=x!=null?n.createElement("caption",{className:"".concat(a,"-caption")},x):void 0,jt=it(t,{data:!0}),Qn=it(t,{aria:!0});if(pe||Me){var zn;typeof T=="function"?(zn=T(S,{scrollbarSize:$e,ref:j,onScroll:he}),_n.colWidths=A.map(function(X,G){var Le=X.width,Se=G===A.length-1?Le-$e:Le;return typeof Se=="number"&&!Number.isNaN(Se)?Se:0})):zn=n.createElement("div",{style:w(w({},tn),Ue),onScroll:he,ref:j,className:re("".concat(a,"-body"))},n.createElement(jn,se({style:w(w({},rn),{},{tableLayout:Cn})},Qn),Zn,Jn,qn,!Ke&&ge&&n.createElement(Sn,{stickyOffsets:Ve,flattenColumns:A,columns:de},ge)));var et=w(w(w({noData:!S.length,maxContentScroll:Ce&&ue==="max-content"},_n),ce),{},{direction:s,stickyClassName:nn,onScroll:he});Hn=n.createElement(n.Fragment,null,g!==!1&&n.createElement(ct,se({},et,{stickyTopOffset:Tn,className:"".concat(a,"-header"),ref:me}),Vt),zn,Ke&&Ke!=="top"&&n.createElement(ct,se({},et,{stickyBottomOffset:Ln,className:"".concat(a,"-summary"),ref:Pe}),Ut),Me&&j.current&&j.current instanceof Element&&n.createElement(Yr,{ref:en,offsetScroll:mn,scrollBodyRef:j,onScroll:he,container:pn}))}else Hn=n.createElement("div",{style:w(w({},tn),Ue),className:re("".concat(a,"-content")),onScroll:he,ref:j},n.createElement(jn,se({style:w(w({},rn),{},{tableLayout:Cn})},Qn),Zn,Jn,g!==!1&&n.createElement(st,se({},_n,ce)),qn,ge&&n.createElement(Sn,{stickyOffsets:Ve,flattenColumns:A,columns:de},ge)));var Pn=n.createElement("div",se({className:re(a,o,(r={},O(r,"".concat(a,"-rtl"),s==="rtl"),O(r,"".concat(a,"-ping-left"),sn),O(r,"".concat(a,"-ping-right"),dn),O(r,"".concat(a,"-layout-fixed"),v==="fixed"),O(r,"".concat(a,"-fixed-header"),pe),O(r,"".concat(a,"-fixed-column"),_e),O(r,"".concat(a,"-scroll-horizontal"),Ce),O(r,"".concat(a,"-has-fix-left"),A[0]&&A[0].fixed),O(r,"".concat(a,"-has-fix-right"),A[A.length-1]&&A[A.length-1].fixed==="right"),r)),style:u,id:h,ref:Ee},jt),m&&n.createElement(vt,{className:"".concat(a,"-title")},m(S)),n.createElement("div",{ref:ye,className:"".concat(a,"-container")},Hn),f&&n.createElement(vt,{className:"".concat(a,"-footer")},f(S)));Ce&&(Pn=n.createElement(ln,{onResize:Ae},Pn));var nt=$r(A,Ve,s,de),Gt=n.useMemo(function(){return{scrollX:ue,prefixCls:a,getComponent:F,scrollbarSize:$e,direction:s,fixedInfoList:nt,isSticky:Me,supportSticky:Un,componentWidth:Q,fixHeader:pe,fixColumn:_e,horizonScroll:Ce,tableLayout:Cn,rowClassName:l,expandedRowClassName:Y.expandedRowClassName,expandIcon:ve,expandableType:Z,expandRowByClick:Y.expandRowByClick,expandedRowRender:Y.expandedRowRender,onTriggerExpand:J,expandIconColumnIndex:Y.expandIconColumnIndex,indentSize:Y.indentSize,allColumnsFixedLeft:A.every(function(X){return X.fixed==="left"}),emptyNode:Gn,columns:de,flattenColumns:A,onColumnResize:Fe,hoverStartRow:ee,hoverEndRow:q,onHover:ie,rowExpandable:Y.rowExpandable,onRow:k,getRowKey:H,expandedKeys:ae,childrenColumnName:oe}},[ue,a,F,$e,s,nt,Me,Un,Q,pe,_e,Ce,Cn,l,Y.expandedRowClassName,ve,Z,Y.expandRowByClick,Y.expandedRowRender,J,Y.expandIconColumnIndex,Y.indentSize,Gn,de,A,Fe,ee,q,ie,Y.rowExpandable,k,H,ae,oe]);return n.createElement(Re.Provider,{value:Gt},Pn)}function Zr(e){return Rt(Jr,e)}var Ge=Zr();Ge.EXPAND_COLUMN=Xe;Ge.INTERNAL_HOOKS=wn;Ge.Column=Vr;Ge.ColumnGroup=Ur;Ge.Summary=Cr;var $t=n.forwardRef(function(e,r){var t=e.height,a=e.offsetY,o=e.offsetX,l=e.children,u=e.prefixCls,c=e.onInnerResize,i=e.innerProps,d=e.rtl,v=e.extra,s={},m={display:"flex",flexDirection:"column"};if(a!==void 0){var f;s={height:t,position:"relative",overflow:"hidden"},m=w(w({},m),{},(f={transform:"translateY(".concat(a,"px)")},O(f,d?"marginRight":"marginLeft",-o),O(f,"position","absolute"),O(f,"left",0),O(f,"right",0),O(f,"top",0),f))}return n.createElement("div",{style:s},n.createElement(ln,{onResize:function(x){var h=x.offsetHeight;h&&c&&c()}},n.createElement("div",se({style:m,className:re(O({},"".concat(u,"-holder-inner"),u)),ref:r},i),l,v)))});$t.displayName="Filler";function mt(e,r){var t="touches"in e?e.touches[0]:e;return t[r?"pageX":"pageY"]}var pt=n.forwardRef(function(e,r){var t,a=e.prefixCls,o=e.rtl,l=e.scrollOffset,u=e.scrollRange,c=e.onStartMove,i=e.onStopMove,d=e.onScroll,v=e.horizontal,s=e.spinSize,m=e.containerSize,f=e.style,p=e.thumbStyle,x=n.useState(!1),h=B(x,2),g=h[0],C=h[1],E=n.useState(null),k=B(E,2),N=k[0],M=k[1],I=n.useState(null),$=B(I,2),L=$[0],K=$[1],R=!o,S=n.useRef(),y=n.useRef(),b=n.useState(!1),F=B(b,2),H=F[0],T=F[1],_=n.useRef(),W=function(){clearTimeout(_.current),T(!0),_.current=setTimeout(function(){T(!1)},3e3)},ee=u-m||0,q=m-s||0,ie=ee>0,le=n.useMemo(function(){if(l===0||ee===0)return 0;var U=l/ee;return U*q},[l,ee,q]),fe=function(D){D.stopPropagation(),D.preventDefault()},Y=n.useRef({top:le,dragging:g,pageY:N,startTop:L});Y.current={top:le,dragging:g,pageY:N,startTop:L};var Z=function(D){C(!0),M(mt(D,v)),K(Y.current.top),c(),D.stopPropagation(),D.preventDefault()};n.useEffect(function(){var U=function(Te){Te.preventDefault()},D=S.current,Q=y.current;return D.addEventListener("touchstart",U),Q.addEventListener("touchstart",Z),function(){D.removeEventListener("touchstart",U),Q.removeEventListener("touchstart",Z)}},[]);var ae=n.useRef();ae.current=ee;var ve=n.useRef();ve.current=q,n.useEffect(function(){if(g){var U,D=function(Te){var Ne=Y.current,de=Ne.dragging,A=Ne.pageY,ke=Ne.startTop;if(He.cancel(U),de){var ue=mt(Te,v)-A,ce=ke;!R&&v?ce-=ue:ce+=ue;var Ee=ae.current,me=ve.current,j=me?ce/me:0,ye=Math.ceil(j*Ee);ye=Math.max(ye,0),ye=Math.min(ye,Ee),U=He(function(){d(ye,v)})}},Q=function(){C(!1),i()};return window.addEventListener("mousemove",D),window.addEventListener("touchmove",D),window.addEventListener("mouseup",Q),window.addEventListener("touchend",Q),function(){window.removeEventListener("mousemove",D),window.removeEventListener("touchmove",D),window.removeEventListener("mouseup",Q),window.removeEventListener("touchend",Q),He.cancel(U)}}},[g]),n.useEffect(function(){W()},[l]),n.useImperativeHandle(r,function(){return{delayHidden:W}});var oe="".concat(a,"-scrollbar"),J={position:"absolute",visibility:H&&ie?null:"hidden"},ne={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return v?(J.height=8,J.left=0,J.right=0,J.bottom=0,ne.height="100%",ne.width=s,R?ne.left=le:ne.right=le):(J.width=8,J.top=0,J.bottom=0,R?J.right=0:J.left=0,ne.width="100%",ne.height=s,ne.top=le),n.createElement("div",{ref:S,className:re(oe,(t={},O(t,"".concat(oe,"-horizontal"),v),O(t,"".concat(oe,"-vertical"),!v),O(t,"".concat(oe,"-visible"),H),t)),style:w(w({},J),f),onMouseDown:fe,onMouseMove:W},n.createElement("div",{ref:y,className:re("".concat(oe,"-thumb"),O({},"".concat(oe,"-thumb-moving"),g)),style:w(w({},ne),p),onMouseDown:Z}))});function Qr(e){var r=e.children,t=e.setRef,a=n.useCallback(function(o){t(o)},[]);return n.cloneElement(r,{ref:a})}function ea(e,r,t,a,o,l,u){var c=u.getKey;return e.slice(r,t+1).map(function(i,d){var v=r+d,s=l(i,v,{style:{width:a}}),m=c(i);return n.createElement(Qr,{key:m,setRef:function(p){return o(i,p)}},s)})}var na=function(){function e(){Zt(this,e),this.maps=void 0,this.id=0,this.maps=Object.create(null)}return Jt(e,[{key:"set",value:function(t,a){this.maps[t]=a,this.id+=1}},{key:"get",value:function(t){return this.maps[t]}}]),e}();function ta(e,r,t){var a=n.useState(0),o=B(a,2),l=o[0],u=o[1],c=n.useRef(new Map),i=n.useRef(new na),d=n.useRef();function v(){He.cancel(d.current)}function s(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;v();var p=function(){c.current.forEach(function(h,g){if(h&&h.offsetParent){var C=rr(h),E=C.offsetHeight;i.current.get(g)!==E&&i.current.set(g,C.offsetHeight)}}),u(function(h){return h+1})};f?p():d.current=He(p)}function m(f,p){var x=e(f),h=c.current.get(x);p?(c.current.set(x,p),s()):c.current.delete(x),!h!=!p&&(p?r==null||r(f):t==null||t(f))}return n.useEffect(function(){return v},[]),[m,s,i.current,l]}var ra=10;function aa(e,r,t,a,o,l,u,c){var i=n.useRef(),d=n.useState(null),v=B(d,2),s=v[0],m=v[1];return on(function(){if(s&&s.times<ra){if(!e.current){m(function(W){return w({},W)});return}l();var f=s.targetAlign,p=s.originAlign,x=s.index,h=s.offset,g=e.current.clientHeight,C=!1,E=f,k=null;if(g){for(var N=f||p,M=0,I=0,$=0,L=Math.min(r.length-1,x),K=0;K<=L;K+=1){var R=o(r[K]);I=M;var S=t.get(R);$=I+(S===void 0?a:S),M=$}for(var y=N==="top"?h:g-h,b=L;b>=0;b-=1){var F=o(r[b]),H=t.get(F);if(H===void 0){C=!0;break}if(y-=H,y<=0)break}switch(N){case"top":k=I-h;break;case"bottom":k=$-g+h;break;default:{var T=e.current.scrollTop,_=T+g;I<T?E="top":$>_&&(E="bottom")}}k!==null&&u(k),k!==s.lastTop&&(C=!0)}C&&m(function(W){return w(w({},W),{},{times:W.times+1,targetAlign:E,lastTop:k})})}},[s,e.current]),function(f){if(f==null){c();return}if(He.cancel(i.current),typeof f=="number")u(f);else if(f&&ze(f)==="object"){var p,x=f.align;"index"in f?p=f.index:p=r.findIndex(function(C){return o(C)===f.key});var h=f.offset,g=h===void 0?0:h;m({times:0,index:p,offset:g,originAlign:x})}}}function oa(e,r,t){var a=e.length,o=r.length,l,u;if(a===0&&o===0)return null;a<o?(l=e,u=r):(l=r,u=e);var c={__EMPTY_ITEM__:!0};function i(p){return p!==void 0?t(p):c}for(var d=null,v=Math.abs(a-o)!==1,s=0;s<u.length;s+=1){var m=i(l[s]),f=i(u[s]);if(m!==f){d=s,v=v||m!==i(u[s+1]);break}}return d===null?null:{index:d,multiple:v}}function la(e,r,t){var a=n.useState(e),o=B(a,2),l=o[0],u=o[1],c=n.useState(null),i=B(c,2),d=i[0],v=i[1];return n.useEffect(function(){var s=oa(l||[],e||[],r);(s==null?void 0:s.index)!==void 0&&(t==null||t(s.index),v(e[s.index])),u(e)},[e]),[d]}var ht=(typeof navigator>"u"?"undefined":ze(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const Bt=function(e,r){var t=n.useRef(!1),a=n.useRef(null);function o(){clearTimeout(a.current),t.current=!0,a.current=setTimeout(function(){t.current=!1},50)}var l=n.useRef({top:e,bottom:r});return l.current.top=e,l.current.bottom=r,function(u){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=u<0&&l.current.top||u>0&&l.current.bottom;return c&&i?(clearTimeout(a.current),t.current=!1):(!i||t.current)&&o(),!t.current&&i}};function ia(e,r,t,a,o){var l=n.useRef(0),u=n.useRef(null),c=n.useRef(null),i=n.useRef(!1),d=Bt(r,t);function v(h,g){He.cancel(u.current),l.current+=g,c.current=g,!d(g)&&(ht||h.preventDefault(),u.current=He(function(){var C=i.current?10:1;o(l.current*C),l.current=0}))}function s(h,g){o(g,!0),ht||h.preventDefault()}var m=n.useRef(null),f=n.useRef(null);function p(h){if(e){He.cancel(f.current),f.current=He(function(){m.current=null},2);var g=h.deltaX,C=h.deltaY,E=h.shiftKey,k=g,N=C;(m.current==="sx"||!m.current&&E&&C&&!g)&&(k=C,N=0,m.current="sx");var M=Math.abs(k),I=Math.abs(N);m.current===null&&(m.current=a&&M>I?"x":"y"),m.current==="y"?v(h,N):s(h,k)}}function x(h){e&&(i.current=h.detail===c.current)}return[p,x]}var ua=14/15;function ca(e,r,t){var a=n.useRef(!1),o=n.useRef(0),l=n.useRef(null),u=n.useRef(null),c,i=function(m){if(a.current){var f=Math.ceil(m.touches[0].pageY),p=o.current-f;o.current=f,t(p)&&m.preventDefault(),clearInterval(u.current),u.current=setInterval(function(){p*=ua,(!t(p,!0)||Math.abs(p)<=.1)&&clearInterval(u.current)},16)}},d=function(){a.current=!1,c()},v=function(m){c(),m.touches.length===1&&!a.current&&(a.current=!0,o.current=Math.ceil(m.touches[0].pageY),l.current=m.target,l.current.addEventListener("touchmove",i),l.current.addEventListener("touchend",d))};c=function(){l.current&&(l.current.removeEventListener("touchmove",i),l.current.removeEventListener("touchend",d))},on(function(){return e&&r.current.addEventListener("touchstart",v),function(){var s;(s=r.current)===null||s===void 0||s.removeEventListener("touchstart",v),c(),clearInterval(u.current)}},[e])}var sa=20;function xt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=e/r*100;return isNaN(t)&&(t=0),t=Math.max(t,sa),t=Math.min(t,e/2),Math.floor(t)}function fa(e,r,t,a){var o=n.useMemo(function(){return[new Map,[]]},[e,t.id,a]),l=B(o,2),u=l[0],c=l[1],i=function(v){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:v,m=u.get(v),f=u.get(s);if(m===void 0||f===void 0)for(var p=e.length,x=c.length;x<p;x+=1){var h,g=e[x],C=r(g);u.set(C,x);var E=(h=t.get(C))!==null&&h!==void 0?h:a;if(c[x]=(c[x-1]||0)+E,C===v&&(m=x),C===s&&(f=x),m!==void 0&&f!==void 0)break}return{top:c[m-1]||0,bottom:c[f]}};return i}var da=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles"],va=[],ma={overflowY:"auto",overflowAnchor:"none"};function pa(e,r){var t=e.prefixCls,a=t===void 0?"rc-virtual-list":t,o=e.className,l=e.height,u=e.itemHeight,c=e.fullHeight,i=c===void 0?!0:c,d=e.style,v=e.data,s=e.children,m=e.itemKey,f=e.virtual,p=e.direction,x=e.scrollWidth,h=e.component,g=h===void 0?"div":h,C=e.onScroll,E=e.onVirtualScroll,k=e.onVisibleChange,N=e.innerProps,M=e.extraRender,I=e.styles,$=We(e,da),L=!!(f!==!1&&l&&u),K=L&&v&&(u*v.length>l||!!x),R=p==="rtl",S=re(a,O({},"".concat(a,"-rtl"),R),o),y=v||va,b=n.useRef(),F=n.useRef(),H=n.useState(0),T=B(H,2),_=T[0],W=T[1],ee=n.useState(0),q=B(ee,2),ie=q[0],le=q[1],fe=n.useState(!1),Y=B(fe,2),Z=Y[0],ae=Y[1],ve=function(){ae(!0)},oe=function(){ae(!1)},J=n.useCallback(function(z){return typeof m=="function"?m(z):z==null?void 0:z[m]},[m]),ne={getKey:J};function U(z){W(function(P){var V;typeof z=="function"?V=z(P):V=z;var te=Mn(V);return b.current.scrollTop=te,te})}var D=n.useRef({start:0,end:y.length}),Q=n.useRef(),we=la(y,J),Te=B(we,1),Ne=Te[0];Q.current=Ne;var de=ta(J,null,null),A=B(de,4),ke=A[0],ue=A[1],ce=A[2],Ee=A[3],me=n.useMemo(function(){if(!L)return{scrollHeight:void 0,start:0,end:y.length-1,offset:void 0};if(!K){var z;return{scrollHeight:((z=F.current)===null||z===void 0?void 0:z.offsetHeight)||0,start:0,end:y.length-1,offset:void 0}}for(var P=0,V,te,he,xn=y.length,Ae=0;Ae<xn;Ae+=1){var yn=y[Ae],In=J(yn),an=ce.get(In),$e=P+(an===void 0?u:an);$e>=_&&V===void 0&&(V=Ae,te=P),$e>_+l&&he===void 0&&(he=Ae),P=$e}return V===void 0&&(V=0,te=0,he=Math.ceil(l/u)),he===void 0&&(he=y.length-1),he=Math.min(he+1,y.length-1),{scrollHeight:P,start:V,end:he,offset:te}},[K,L,_,y,Ee,l]),j=me.scrollHeight,ye=me.start,Pe=me.end,un=me.offset;D.current.start=ye,D.current.end=Pe;var cn=n.useState({width:0,height:l}),sn=B(cn,2),be=sn[0],Nn=sn[1],fn=function(P){Nn({width:P.width||P.offsetWidth,height:P.height||P.offsetHeight})},dn=n.useRef(),De=n.useRef(),kn=n.useMemo(function(){return xt(be.width,x)},[be.width,x]),vn=n.useMemo(function(){return xt(be.height,j)},[be.height,j]),qe=j-l,Je=n.useRef(qe);Je.current=qe;function Mn(z){var P=z;return Number.isNaN(Je.current)||(P=Math.min(P,Je.current)),P=Math.max(P,0),P}var Ze=_<=0,Qe=_>=qe,Ve=Bt(Ze,Qe),pe=function(){return{x:R?-ie:ie,y:_}},Ce=n.useRef(pe()),_e=Rn(function(){if(E){var z=pe();(Ce.current.x!==z.x||Ce.current.y!==z.y)&&(E(z),Ce.current=z)}});function en(z,P){var V=z;P?(ut.flushSync(function(){le(V)}),_e()):U(V)}function Oe(z){var P=z.currentTarget.scrollTop;P!==_&&U(P),C==null||C(z),_e()}var Me=function(P){var V=P,te=x-be.width;return V=Math.max(V,0),V=Math.min(V,te),V},Tn=Rn(function(z,P){P?(ut.flushSync(function(){le(function(V){var te=V+(R?-z:z);return Me(te)})}),_e()):U(function(V){var te=V+z;return te})}),Ln=ia(L,Ze,Qe,!!x,Tn),mn=B(Ln,2),nn=mn[0],pn=mn[1];ca(L,b,function(z,P){return Ve(z,P)?!1:(nn({preventDefault:function(){},deltaY:z}),!0)}),on(function(){function z(V){L&&V.preventDefault()}var P=b.current;return P.addEventListener("wheel",nn),P.addEventListener("DOMMouseScroll",pn),P.addEventListener("MozMousePixelScroll",z),function(){P.removeEventListener("wheel",nn),P.removeEventListener("DOMMouseScroll",pn),P.removeEventListener("MozMousePixelScroll",z)}},[L]),on(function(){x&&le(function(z){return Me(z)})},[be.width,x]);var ge=function(){var P,V;(P=dn.current)===null||P===void 0||P.delayHidden(),(V=De.current)===null||V===void 0||V.delayHidden()},Ke=aa(b,y,ce,u,J,function(){return ue(!0)},U,ge);n.useImperativeHandle(r,function(){return{getScrollInfo:pe,scrollTo:function(P){function V(te){return te&&ze(te)==="object"&&("left"in te||"top"in te)}V(P)?(P.left!==void 0&&le(Me(P.left)),Ke(P.top)):Ke(P)}}}),on(function(){if(k){var z=y.slice(ye,Pe+1);k(z,y)}},[ye,Pe,y]);var tn=fa(y,J,ce,u),Ue=M==null?void 0:M({start:ye,end:Pe,virtual:K,offsetX:ie,offsetY:un,rtl:R,getSize:tn}),rn=ea(y,ye,Pe,x,ke,s,ne),Fe=null;l&&(Fe=w(O({},i?"height":"maxHeight",l),ma),L&&(Fe.overflowY="hidden",x&&(Fe.overflowX="hidden"),Z&&(Fe.pointerEvents="none")));var hn={};return R&&(hn.dir="rtl"),n.createElement("div",se({style:w(w({},d),{},{position:"relative"}),className:S},hn,$),n.createElement(ln,{onResize:fn},n.createElement(g,{className:"".concat(a,"-holder"),style:Fe,ref:b,onScroll:Oe,onMouseEnter:ge},n.createElement($t,{prefixCls:a,height:j,offsetX:ie,offsetY:un,scrollWidth:x,onInnerResize:ue,ref:F,innerProps:N,rtl:R,extra:Ue},rn))),K&&j>l&&n.createElement(pt,{ref:dn,prefixCls:a,scrollOffset:_,scrollRange:j,rtl:R,onScroll:en,onStartMove:ve,onStopMove:oe,spinSize:vn,containerSize:be.height,style:I==null?void 0:I.verticalScrollBar,thumbStyle:I==null?void 0:I.verticalScrollBarThumb}),K&&x&&n.createElement(pt,{ref:De,prefixCls:a,scrollOffset:ie,scrollRange:x,rtl:R,onScroll:en,onStartMove:ve,onStopMove:oe,spinSize:kn,containerSize:be.width,horizontal:!0,style:I==null?void 0:I.horizontalScrollBar,thumbStyle:I==null?void 0:I.horizontalScrollBarThumb}))}var Wt=n.forwardRef(pa);Wt.displayName="List";var Dt=Dn(null),At=Dn(null);function ha(e,r,t){var a=r||1;return t[e+a]-(t[e]||0)}function xa(e){var r=e.rowInfo,t=e.column,a=e.colIndex,o=e.indent,l=e.index,u=e.renderIndex,c=e.record,i=e.style,d=e.className,v=e.inverse,s=e.getHeight,m=t.render,f=t.dataIndex,p=t.className,x=t.width,h=xe(At,["columnsOffset"]),g=h.columnsOffset,C=Tt(r,t,a,o,l),E=C.key,k=C.fixedInfo,N=C.appendCellNode,M=C.additionalCellProps,I=M.style,$=M.colSpan,L=$===void 0?1:$,K=M.rowSpan,R=K===void 0?1:K,S=a-1,y=ha(S,L,g),b=L>1?x-y:0,F=w(w(w({},I),i),{},{flex:"0 0 ".concat(y,"px"),width:"".concat(y,"px"),marginRight:b,pointerEvents:"auto"}),H=n.useMemo(function(){return v?R<=1:L===0||R===0||R>1},[R,L,v]);H?F.visibility="hidden":v&&(F.height=s==null?void 0:s(R));var T=H?function(){return null}:m,_={};return(R===0||L===0)&&(_.rowSpan=1,_.colSpan=1),n.createElement(Ye,se({className:re(p,d),ellipsis:t.ellipsis,align:t.align,scope:t.rowScope,component:"div",prefixCls:r.prefixCls,key:E,record:c,index:l,renderIndex:u,dataIndex:f,render:T,shouldCellUpdate:t.shouldCellUpdate},k,{appendNode:N,additionalProps:w(w({},M),{},{style:F},_)}))}var ya=["data","index","className","rowKey","style","extra","getHeight"],Ca=n.forwardRef(function(e,r){var t=e.data,a=e.index,o=e.className,l=e.rowKey,u=e.style,c=e.extra,i=e.getHeight,d=We(e,ya),v=t.record,s=t.indent,m=t.index,f=xe(Re,["prefixCls","flattenColumns","fixColumn","componentWidth","scrollX"]),p=f.scrollX,x=f.flattenColumns,h=f.prefixCls,g=f.fixColumn,C=f.componentWidth,E=kt(v,l,a,s),k=E.rowSupportExpand,N=E.expanded,M=E.rowProps,I=E.expandedRowRender,$=E.expandedRowClassName,L;if(k&&N){var K=I(v,a,s+1,N),R=$==null?void 0:$(v,a,s),S={};g&&(S={style:O({},"--virtual-width","".concat(C,"px"))});var y="".concat(h,"-expanded-row-cell");L=n.createElement("div",{className:re("".concat(h,"-expanded-row"),"".concat(h,"-expanded-row-level-").concat(s+1),R)},n.createElement(Ye,{component:"div",prefixCls:h,className:re(y,O({},"".concat(y,"-fixed"),g)),additionalProps:S},K))}var b=w(w({},u),{},{width:p});c&&(b.position="absolute",b.pointerEvents="none");var F=n.createElement("div",se({},M,d,{ref:k?null:r,className:re(o,"".concat(h,"-row"),M==null?void 0:M.className,O({},"".concat(h,"-row-extra"),c)),style:w(w({},b),M==null?void 0:M.style)}),x.map(function(H,T){return n.createElement(xa,{key:T,rowInfo:E,column:H,colIndex:T,indent:s,index:a,renderIndex:m,record:v,inverse:c,getHeight:i})}));return k?n.createElement("div",{ref:r},F,L):F}),yt=je(Ca),ga=n.forwardRef(function(e,r){var t=e.data,a=e.onScroll,o=xe(Re,["flattenColumns","onColumnResize","getRowKey","prefixCls","expandedKeys","childrenColumnName","emptyNode","scrollX"]),l=o.flattenColumns,u=o.onColumnResize,c=o.getRowKey,i=o.expandedKeys,d=o.prefixCls,v=o.childrenColumnName,s=o.emptyNode,m=o.scrollX,f=xe(Dt),p=f.sticky,x=f.scrollY,h=f.listItemHeight,g=n.useRef(),C=Nt(t,v,i,c),E=n.useMemo(function(){var R=0;return l.map(function(S){var y=S.width,b=S.key;return R+=y,[b,y,R]})},[l]),k=n.useMemo(function(){return E.map(function(R){return R[2]})},[E]);n.useEffect(function(){E.forEach(function(R){var S=B(R,2),y=S[0],b=S[1];u(y,b)})},[E]),n.useImperativeHandle(r,function(){var R={};return Object.defineProperty(R,"scrollLeft",{get:function(){var y;return((y=g.current)===null||y===void 0?void 0:y.getScrollInfo().x)||0},set:function(y){var b;(b=g.current)===null||b===void 0||b.scrollTo({left:y})}}),R});var N=function(S,y){var b,F=(b=C[y])===null||b===void 0?void 0:b.record,H=S.onCell;if(H){var T,_=H(F,y);return(T=_==null?void 0:_.rowSpan)!==null&&T!==void 0?T:1}return 1},M=function(S){var y=S.start,b=S.end,F=S.getSize,H=S.offsetY;if(b<0)return null;for(var T=l.filter(function(U){return N(U,y)===0}),_=y,W=function(D){if(T=T.filter(function(Q){return N(Q,D)===0}),!T.length)return _=D,"break"},ee=y;ee>=0;ee-=1){var q=W(ee);if(q==="break")break}for(var ie=l.filter(function(U){return N(U,b)!==1}),le=b,fe=function(D){if(ie=ie.filter(function(Q){return N(Q,D)!==1}),!ie.length)return le=Math.max(D-1,b),"break"},Y=b;Y<C.length;Y+=1){var Z=fe(Y);if(Z==="break")break}for(var ae=[],ve=function(D){var Q=C[D];if(!Q)return"continue";l.some(function(we){return N(we,D)>1})&&ae.push(D)},oe=_;oe<=le;oe+=1)var J=ve(oe);var ne=ae.map(function(U){var D=C[U],Q=c(D.record,U),we=function(de){var A=U+de-1,ke=c(C[A].record,A),ue=F(Q,ke);return ue.bottom-ue.top},Te=F(Q);return n.createElement(yt,{key:U,data:D,rowKey:Q,index:U,style:{top:-H+Te.top},extra:!0,getHeight:we})});return ne},I=n.useMemo(function(){return{columnsOffset:k}},[k]),$="".concat(d,"-tbody"),L;if(C.length){var K={};p&&(K.position="sticky",K.bottom=0,ze(p)==="object"&&p.offsetScroll&&(K.bottom=p.offsetScroll)),L=n.createElement(Wt,{fullHeight:!1,ref:g,styles:{horizontalScrollBar:K},className:re($,"".concat($,"-virtual")),height:x,itemHeight:h||24,data:C,itemKey:function(S){return c(S.record)},scrollWidth:m,onVirtualScroll:function(S){var y=S.x;a({scrollLeft:y})},extraRender:M},function(R,S,y){var b=c(R.record,S);return n.createElement(yt,se({data:R,rowKey:b,index:S},y))})}else L=n.createElement("div",{className:re("".concat(d,"-placeholder"))},n.createElement(Ye,{component:"div",prefixCls:d},s));return n.createElement(At.Provider,{value:I},L)}),Sa=je(ga),Ra=function(r,t){var a=t.ref,o=t.onScroll;return n.createElement(Sa,{ref:a,data:r,onScroll:o})};function wa(e){var r=e.columns,t=e.scroll,a=e.sticky,o=e.prefixCls,l=o===void 0?Ft:o,u=e.className,c=e.listItemHeight,i=t||{},d=i.x,v=i.y;typeof d!="number"&&(d=1),typeof v!="number"&&(v=500);var s=n.useMemo(function(){return{sticky:a,scrollY:v,listItemHeight:c}},[a,v,c]);return n.createElement(Dt.Provider,{value:s},n.createElement(Ge,se({},e,{className:re(u,"".concat(l,"-virtual")),scroll:w(w({},t),{},{x:d}),components:{body:Ra},columns:r,internalHooks:wn,tailor:!0})))}function Ea(e){return Rt(wa,e)}Ea();export{Xe as E,Cr as F,Ht as I,Ea as a,wn as b,Ot as c,Zr as g};
