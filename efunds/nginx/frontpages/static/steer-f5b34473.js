import{i as d,_ as v}from"./index-43358b38.js";import{H as y,r as g,aJ as S,c as w,ah as _,l as I,m as A,p as c,V as l,P as h,K as b,u as x,aD as T,aE as C}from"./vue-3e7b265f.js";import{l as U}from"./steer-7a58a769.js";import"./element-f6a868e5.js";import"./vxe-49ae37d0.js";const u="/static/stee-d49d179a.svg",m="/static/steer-cf8c4ec0.svg",V=s=>(T("data-v-b64ec57a"),s=s(),C(),s),$={class:"steer-head"},z={class:"head-leftIcon"},B=V(()=>c("span",{class:"head-title"},"SkyAgents",-1)),E={class:"head-rightIcon"},K=y({__name:"steer",setup(s){let o=g(window.location.href.split("?")[1].split("=")[1]);const p=S();let k=async t=>{let{data:i}=await U("?token="+t);localStorage.setItem("SkyAgents-token-ky",JSON.stringify(i.data.token))},e=g(u);return w(()=>{window.innerWidth<=500?e.value=u:e.value=m,window.addEventListener("resize",a=>{window.innerWidth<=500?e.value=u:e.value=m}),d.set("hash",o.value);let t=d.get("k_sso_token");d.get("SkyAgents-token-key")?setTimeout(()=>{p.push("/agent/outlink?hash="+o.value)},5e3):t?(k(t),setTimeout(()=>{p.push("/agent/outlink?hash="+o.value)},5e3)):setTimeout(()=>{let a=localStorage.getItem("agentUuid"),n=localStorage.getItem("users_id");const r=encodeURIComponent("https://model-platform-skyagents.tiangong.cn/#/agent/outlink?hash="+o+"&agentUuid="+a+"&uid="+n),f=encodeURI(`redirect=${r}&client_id=200005`);location.href=`https://sso.tiangong.cn?${f}`},5e3)}),(t,i)=>{const a=_("ArrowLeft"),n=_("el-icon"),r=_("MoreFilled");return I(),A("div",{class:"steer",style:b({backgroundImage:`url(' ${x(e)} ')`})},[c("div",$,[c("div",z,[l(n,{style:{"font-size":"20px",color:"black"}},{default:h(()=>[l(a)]),_:1})]),B,c("div",E,[l(n,{style:{color:"black"}},{default:h(()=>[l(r)]),_:1})])])],4)}}});const J=v(K,[["__scopeId","data-v-b64ec57a"]]);export{J as default};
